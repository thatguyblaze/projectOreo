<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Official Decree</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Marck+Script&family=Roboto+Condensed:wght@700&family=Roboto+Slab:wght@400;700&display=swap');

        body {
            font-family: 'Roboto Slab', serif;
            /* A dark, textured background resembling a wooden desk */
            background-color: #3d3a36;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='100' height='100' viewBox='0 0 100 100'%3E%3Cg fill-rule='evenodd'%3E%3Cg fill='%232a2825' fill-opacity='0.4'%3E%3Cpath opacity='.5' d='M96 95h4v1h-4v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4h-9v4h-1v-4H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h4v-9H0v-1h5v1h9v-1h1v1h9v-1h1v1h9v-1h1v1h9v-1h1v1h9v-1h1v1h9v-1h1v1h9v-1h1v1h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9h4v1h-4v9zm-1 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm9-10v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-10 0v-9h-9v9h9zm-9-10h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9zm10 0h9v-9h-9v9z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
            padding-top: 5rem; /* Space for the fixed edit button */
        }
        
        .paper-container {
            position: relative;
        }

        .paper {
            background-color: #f2eadf;
            background-image:
                linear-gradient(rgba(180, 160, 130, 0.05) 1px, transparent 1px),
                linear-gradient(to right, rgba(180, 160, 130, 0.05) 1px, transparent 1px);
            background-size: 2px 2px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.5), 0 0 0 1px #444;
            color: #2a2a2a;
            position: relative;
            overflow: visible; /* Let the seal bleed over the edge slightly */
            border-radius: 2px;
        }

        .paper::after {
            content: '';
            position: absolute;
            top: 0;
            left: 50%;
            width: 2px;
            height: 100%;
            background: linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,0.04), rgba(0,0,0,0));
            transform: translateX(-1px);
        }
        
        .header-title, .decree-title, .field-label {
            font-family: 'Roboto Condensed', sans-serif;
            font-weight: 700;
            text-transform: uppercase;
        }
        
        .header-title { letter-spacing: 0.2em; color: #1a1a1a; }
        .decree-title { letter-spacing: 0.3em; color: #a62121; border-bottom: 2px solid #a62121; display: inline-block; padding-bottom: 0.5rem; }
        .field-label { letter-spacing: 0.1em; color: #5a5a5a; }

        .translation {
            font-size: 0.8rem;
            color: #5a5a5a;
            font-family: 'Roboto Slab', serif;
            font-style: italic;
            letter-spacing: 0.05em;
        }

        .field-value { border-bottom: 1px solid #c2b8a8; padding-bottom: 4px; }
        
        .description-box {
            background-color: rgba(0,0,0,0.03);
            border: 1px solid #e0d8c8;
            border-left: 3px solid #a62121;
            padding: 1rem;
        }

        /* --- NEW WAX SEAL --- */
        .seal-container {
            position: absolute;
            bottom: 2.5rem;
            right: 4rem;
            transform: rotate(-15deg);
        }
        .wax-seal {
            position: relative;
            width: 130px;
            height: 130px;
            border-radius: 50%;
            background: radial-gradient(circle at 50% 40%, #c43a3a, #a62121 80%);
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 
                inset 0 0 15px rgba(0,0,0,0.5),
                inset 0 0 25px rgba(0,0,0,0.5),
                2px 2px 15px rgba(0,0,0,0.6);
        }
        .wax-seal::before {
            content: '';
            position: absolute;
            top: -7px; left: -7px; right: -7px; bottom: -7px;
            border-radius: 50%;
            background: radial-gradient(circle at 50% 40%, #c43a3a, #a62121 80%);
            filter: url(#wavy);
            z-index: -1;
        }
        .wax-seal-symbol {
            width: 70%;
            height: 70%;
            fill: rgba(0,0,0,0.2);
            filter: drop-shadow(1px 1px 1px rgba(255,255,255,0.15));
        }

        .edit-button {
             position: fixed;
             top: 1rem;
             right: 1rem;
             background-color: rgba(0,0,0,0.7);
             border: 1px solid rgba(255,255,255,0.2);
             color: #fff;
             font-family: 'Roboto Condensed', sans-serif;
             font-size: 12px;
             text-transform: uppercase;
             letter-spacing: 0.1em;
             border-radius: 2px;
             z-index: 100;
        }
        .edit-button:hover { background-color: #a62121; }
    </style>
</head>
<body class="bg-gray-800 flex items-center justify-center min-h-screen p-4 sm:p-6 md:p-8">
    
    <button id="edit-button" class="edit-button font-bold py-2 px-4 transition-colors duration-200">
        Edit Decree
    </button>
    
    <!-- SVG Filter for Wavy Edge Effect -->
    <svg style="visibility: hidden; position: absolute;" width="0" height="0" xmlns="http://www.w3.org/2000/svg" version="1.1">
      <defs>
        <filter id="wavy">
          <feTurbulence x="0" y="0" baseFrequency="0.025" numOctaves="5" seed="3" type="fractalNoise"></feTurbulence>
          <feDisplacementMap in="SourceGraphic" scale="15"></feDisplacementMap>
        </filter>
      </defs>
    </svg>

    <!-- Main document container -->
    <div class="paper-container max-w-2xl w-full mx-auto">
        <div class="paper p-8 sm:p-10 md:p-12">
            <!-- Header Section -->
            <header class="text-center mb-10">
                <img src="https://pngimg.com/uploads/soviet_union/soviet_union_PNG54.png" 
                     alt="Coat of Arms of the Soviet Union" 
                     class="h-28 mx-auto mb-6 opacity-90"
                     onerror="this.onerror=null; this.src='https://placehold.co/112x112/e2e8f0/4a5568?text=Logo';">
                <h1 class="header-title text-2xl sm:text-3xl">СЪЕЗД НАРОДНЫХ ДЕПУТАТОВ</h1>
                <p class="translation">CONGRESS OF PEOPLE'S DEPUTIES</p>
            </header>

            <!-- Decree Number and Date -->
            <div class="flex justify-between items-end mb-10 pb-4 border-b-2 border-gray-300">
                 <div>
                    <strong class="field-label">Указ №: <span id="decree-no-display" class="font-normal text-gray-700"></span></strong>
                    <p class="translation">Decree No.</p>
                 </div>
                 <div>
                     <strong class="field-label">Дата: <span id="date-display" class="font-normal text-gray-700"></span></strong>
                     <p class="translation text-right">Date</p>
                 </div>
            </div>

            <!-- Bill Title Section -->
            <div class="text-center my-10">
                <h2 class="decree-title text-3xl sm:text-4xl">Указ</h2>
                <p class="translation mt-1">DECREE</p>
            </div>

            <!-- Bill Details Section -->
            <div class="space-y-8 text-lg">
                <div class="flex items-baseline">
                    <strong class="field-label w-1/4 min-w-[100px]">Партия:<p class="translation text-sm">Party</p></strong>
                    <span id="party-display" class="field-value flex-1 font-semibold"></span>
                </div>
                
                <div class="flex items-baseline">
                     <strong class="field-label w-1/4 min-w-[100px]">Законопроект:<p class="translation text-sm">Bill</p></strong>
                     <span id="bill-name-display" class="field-value flex-1 font-semibold"></span>
                </div>

                <div>
                    <strong class="field-label">Описание:<p class="translation text-sm">Description</p></strong>
                    <div id="description-display" class="description-box mt-2 leading-relaxed text-justify">
                    </div>
                </div>
            </div>

            <!-- Voting and Signature Section -->
            <div class="mt-16 pt-8 flex justify-between items-end h-32">
                <div id="vote-result-container" class="w-1/2">
                    <strong class="text-xl field-label">Результат Голосования:</strong>
                    <p class="translation">Result of the vote</p>
                    <p id="vote-tally-display" class="text-3xl font-bold mt-2 text-gray-800"></p>
                </div>
            </div>
        </div>

        <!-- Seal placed in the container, but positioned absolutely -->
        <div class="seal-container">
            <div class="wax-seal">
                <svg class="wax-seal-symbol" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M13 3v3.88l6.7 6.7a1 1 0 0 1-1.4 1.42L11.6 8.3v.02L5.88 14.1a1 1 0 0 1-1.42-1.4l6.7-6.7V3a1 1 0 0 1 2 0zm-1.12 9.88a1 1 0 0 1 1.42 0l4.38 4.38a1 1 0 0 1-1.42 1.42L12 14.4l-4.38 4.38a1 1 0 0 1-1.42-1.42l4.38-4.38z"/>
                </svg>
            </div>
        </div>
    </div>

    <!-- Edit Modal -->
    <div id="edit-modal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 font-sans">
        <div class="bg-gray-200 rounded-md shadow-xl p-6 sm:p-8 w-full max-w-lg max-h-full overflow-y-auto">
            <h3 class="text-2xl font-bold mb-6 text-gray-800">Edit Decree Information</h3>
            <form id="edit-form">
                <div class="space-y-4">
                    <div class="grid grid-cols-2 gap-4">
                         <div>
                            <label for="decree-no-input" class="block text-sm font-medium text-gray-700">Decree No.</label>
                            <input type="text" id="decree-no-input" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-red-700 focus:border-red-700">
                        </div>
                        <div>
                            <label for="date-input" class="block text-sm font-medium text-gray-700">Date</label>
                            <input type="text" id="date-input" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-red-700 focus:border-red-700">
                        </div>
                    </div>
                    <div>
                        <label for="party-input" class="block text-sm font-medium text-gray-700">Party</label>
                        <input type="text" id="party-input" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-red-700 focus:border-red-700">
                    </div>
                    <div>
                        <label for="bill-name-input" class="block text-sm font-medium text-gray-700">Bill Name</label>
                        <input type="text" id="bill-name-input" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-red-700 focus:border-red-700">
                    </div>
                    <div>
                        <label for="description-input" class="block text-sm font-medium text-gray-700">Description</label>
                        <textarea id="description-input" rows="6" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-red-700 focus:border-red-700"></textarea>
                    </div>
                    <fieldset class="border-t border-gray-400 pt-4">
                        <legend class="text-lg font-medium text-gray-900">Voting Status</legend>
                        <div class="mt-4 space-y-4">
                            <div class="flex items-start">
                                <div class="flex items-center h-5">
                                    <input id="accepted-toggle" type="checkbox" class="focus:ring-red-600 h-4 w-4 text-red-700 border-gray-400 rounded">
                                </div>
                                <div class="ml-3 text-sm">
                                    <label for="accepted-toggle" class="font-medium text-gray-700">Bill Accepted</label>
                                </div>
                            </div>
                            <div id="vote-inputs" class="hidden grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div>
                                    <label for="votes-for-input" class="block text-sm font-medium text-gray-700">Votes For</label>
                                    <input type="number" id="votes-for-input" min="0" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-red-700 focus:border-red-700">
                                </div>
                                <div>
                                    <label for="votes-against-input" class="block text-sm font-medium text-gray-700">Votes Against</label>
                                    <input type="number" id="votes-against-input" min="0" class="mt-1 block w-full px-3 py-2 bg-white border border-gray-400 rounded-md shadow-sm focus:outline-none focus:ring-red-700 focus:border-red-700">
                                </div>
                            </div>
                        </div>
                    </fieldset>
                </div>
                <div class="mt-8 flex justify-end space-x-3">
                    <button type="button" id="cancel-button" class="bg-white py-2 px-4 border border-gray-400 rounded-md shadow-sm text-sm font-medium text-gray-700 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500">Cancel</button>
                    <button type="submit" class="inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-red-800 hover:bg-red-900 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-700">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- STATE MANAGEMENT ---
            let billData = {
                decreeNo: "19-B",
                date: "22.11.1982",
                party: "КПСС (CPSU)",
                billName: "Host new Chairman of the Council of Ministers elections in 2 weeks.",
                description: "We need finally the government full and operational as each Ministry has its political leader and representative here. The prolonged vacancy in the office of the Chairman undermines the stability of the Soviet state and hinders the implementation of crucial five-year plans. It is imperative that we hold elections to select a new leader who embodies the will of the proletariat and can guide our great nation towards a triumphant communist future.",
                isAccepted: true,
                votesFor: 5,
                votesAgainst: 0
            };

            // --- ELEMENT SELECTORS ---
            const editButton = document.getElementById('edit-button');
            const modal = document.getElementById('edit-modal');
            const cancelButton = document.getElementById('cancel-button');
            const editForm = document.getElementById('edit-form');
            
            const decreeNoDisplay = document.getElementById('decree-no-display');
            const dateDisplay = document.getElementById('date-display');
            const partyDisplay = document.getElementById('party-display');
            const billNameDisplay = document.getElementById('bill-name-display');
            const descriptionDisplay = document.getElementById('description-display');
            const voteResultContainer = document.getElementById('vote-result-container');
            const voteTallyDisplay = document.getElementById('vote-tally-display');

            const decreeNoInput = document.getElementById('decree-no-input');
            const dateInput = document.getElementById('date-input');
            const partyInput = document.getElementById('party-input');
            const billNameInput = document.getElementById('bill-name-input');
            const descriptionInput = document.getElementById('description-input');
            const acceptedToggle = document.getElementById('accepted-toggle');
            const voteInputs = document.getElementById('vote-inputs');
            const votesForInput = document.getElementById('votes-for-input');
            const votesAgainstInput = document.getElementById('votes-against-input');

            // --- FUNCTIONS ---
            function updateDocumentDisplay() {
                decreeNoDisplay.textContent = billData.decreeNo;
                dateDisplay.textContent = billData.date;
                partyDisplay.textContent = billData.party;
                billNameDisplay.textContent = billData.billName;
                descriptionDisplay.innerHTML = billData.description.replace(/\n/g, '<br>');

                if (billData.isAccepted) {
                    voteResultContainer.style.display = 'block';
                    voteTallyDisplay.textContent = `Принято: ${billData.votesFor} - ${billData.votesAgainst}`;
                } else {
                    voteResultContainer.style.display = 'none';
                }
            }

            function populateModal() {
                decreeNoInput.value = billData.decreeNo;
                dateInput.value = billData.date;
                partyInput.value = billData.party;
                billNameInput.value = billData.billName;
                descriptionInput.value = billData.description;
                acceptedToggle.checked = billData.isAccepted;
                votesForInput.value = billData.votesFor;
                votesAgainstInput.value = billData.votesAgainst;
                
                voteInputs.classList.toggle('hidden', !billData.isAccepted);
            }
            
            // --- EVENT LISTENERS ---
            editButton.addEventListener('click', () => {
                populateModal();
                modal.classList.remove('hidden');
            });

            cancelButton.addEventListener('click', () => modal.classList.add('hidden'));
            modal.addEventListener('click', (event) => {
                if (event.target === modal) {
                    modal.classList.add('hidden');
                }
            });

            acceptedToggle.addEventListener('change', (e) => {
                voteInputs.classList.toggle('hidden', !e.target.checked);
            });

            editForm.addEventListener('submit', (event) => {
                event.preventDefault();
                
                billData.decreeNo = decreeNoInput.value;
                billData.date = dateInput.value;
                billData.party = partyInput.value;
                billData.billName = billNameInput.value;
                billData.description = descriptionInput.value;
                billData.isAccepted = acceptedToggle.checked;
                billData.votesFor = votesForInput.value || 0;
                billData.votesAgainst = votesAgainstInput.value || 0;

                updateDocumentDisplay();
                modal.classList.add('hidden');
            });

            // --- INITIALIZATION ---
            updateDocumentDisplay();
        });
    </script>
</body>
</html>
