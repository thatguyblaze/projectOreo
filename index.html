<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blazinik - Creative Professional</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      /* Font-face and base styles */
      @font-face {
        font-family: 'LucideIcons';
        src: url(https://cdn.jsdelivr.net/npm/lucide-static@latest/font/Lucide.ttf) format('truetype');
      }
      body {
        font-family: 'Inter', sans-serif;
        background-color: #0a0a0a;
        color: #e5e7eb;
        scroll-behavior: smooth;
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%231f2937' fill-opacity='0.4' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E");
      }
      body.modal-open { overflow: hidden; }

      /* Section padding */
      .section-padding { padding: 4rem 1rem; }
      @media (min-width: 768px) { .section-padding { padding: 6rem 2rem; } }

      /* Skill bar */
      .skill-bar-inner {
        width: 0%;
        transition-property: width;
        transition-timing-function: ease-out;
      }

      /* Modal */
      .modal { transition: opacity 0.3s ease-in-out; }
      .modal.hidden { opacity: 0; pointer-events: none; }
      .modal:not(.hidden) { opacity: 1; }

      /* Modal Carousel buttons */
      .carousel-button {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(17, 24, 39, 0.6);
        color: #d1d5db;
        border: 1px solid rgba(55, 65, 81, 0.6);
        padding: 0.5rem;
        border-radius: 50%;
        cursor: pointer;
        transition: background-color 0.2s ease, border-color 0.2s ease;
        z-index: 10;
      }
      .carousel-button:hover {
        background-color: rgba(31, 41, 55, 0.8);
        border-color: rgba(75, 85, 99, 0.8);
      }
      .carousel-button:disabled { opacity: 0.3; cursor: not-allowed; }
      .carousel-button.prev { left: 0.75rem; }
      .carousel-button.next { right: 0.75rem; }

      /* Section fade-in */
      .fade-in-section { opacity: 0; transform: translateY(20px); transition: opacity 0.6s ease-out 0.3s, transform 0.6s ease-out 0.3s; }
      .fade-in-section.visible { opacity: 1; transform: translateY(0); }

      /* Section title accent */
      .section-title-accent::after { content: ''; display: block; width: 50px; height: 3px; background: linear-gradient(to right, #3b82f6, #6366f1); margin: 0.75rem auto 0; border-radius: 99px; }

      /* Animated Background */
      @keyframes gradientShiftSlow { 0% { background-position: 0% 50%; } 50% { background-position: 100% 50%; } 100% { background-position: 0% 50%; } }
      .animated-gradient-background { background: linear-gradient(-45deg, #0a0a0a, #111827, #1f2937, #111827, #0a0a0a); background-size: 300% 300%; animation: gradientShiftSlow 35s ease infinite; }

      /* SMP Image Fade */
      #smp-image { transition: opacity 0.7s ease-in-out; }

    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="text-gray-200">

    <div id="style-error-message" class="fixed top-0 left-0 w-full bg-red-600 text-white text-center p-4 font-bold z-[10000]" style="display: none;">
        Error: Styles did not load correctly. Please check the browser console (F12) for network errors or script issues.
    </div>

    <section id="hero" class="animated-gradient-background section-padding border-b border-gray-800 overflow-hidden pt-24 md:pt-32">
         <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
            <div class="flex flex-col md:flex-row items-center gap-8 md:gap-12">
                <div class="flex-shrink-0 w-48 h-48 md:w-56 md:h-56 lg:w-64 lg:h-64">
                     <img
                        src="images/DenoLogo3D-Anim.gif"
                        alt="Blazinik Animated Logo"
                        class="w-full h-full rounded-full object-cover shadow-lg border-4 border-gray-700"
                        onerror="this.onerror=null; this.src='https://placehold.co/256x256/374151/e5e7eb?text=Error';"
                     >
                </div>
                <div class="text-center md:text-left flex-grow">
                     <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-3">Blazinik</h1>
                     <p class="text-xl text-indigo-400 font-medium mb-4">Hey, I'm Blaze ðŸ‘‹</p>
                     <p class="text-lg text-gray-300 mb-8">ðŸ“š | Programmer</p>
                    <div class="flex flex-wrap justify-center md:justify-start gap-3 sm:gap-4">
                        <a href="#portfolio" onclick="document.getElementById('portfolio').scrollIntoView({behavior:'smooth'}); return false;" class="inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md transition duration-200 ease-in-out transform hover:scale-105">
                            <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="14" x="2" y="7" rx="2" ry="2"/><path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"/></svg>
                            View Portfolio
                        </a>
                        <a href="#music-placeholder" class="inline-flex items-center bg-pink-600 hover:bg-pink-700 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md transition duration-200 ease-in-out transform hover:scale-105">
                            <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 18V5l12-2v13"/><circle cx="6" cy="18" r="3"/><circle cx="18" cy="16" r="3"/></svg>
                            Favorite Music
                        </a>
                        <a href="#steam-placeholder" target="_blank" rel="noopener noreferrer" class="inline-flex items-center bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md transition duration-200 ease-in-out transform hover:scale-105">
                            <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M17.5 12a5.5 5.5 0 1 0-11 0 5.5 5.5 0 0 0 11 0Z"/><path d="M17.5 12h-11"/><path d="M5 12a7.5 7.5 0 1 0 15 0 7.5 7.5 0 0 0-15 0Z"/><path d="M12 5a7.5 7.5 0 1 0 0 15Z"/></svg>
                            Steam
                        </a>
                        <a href="#youtube-placeholder" target="_blank" rel="noopener noreferrer" class="inline-flex items-center bg-red-600 hover:bg-red-700 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md transition duration-200 ease-in-out transform hover:scale-105">
                            <svg class="w-4 h-4 mr-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17"/><path d="m10 15 5-3-5-3z"/></svg>
                            YouTube
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <main>
        <section id="skills" class="section-padding border-b border-gray-800 fade-in-section animated-gradient-background">
             <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-white section-title-accent">Technical & Creative Skills</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12">
                    <div>
                        <h3 class="text-2xl font-semibold text-indigo-400 mb-6 border-b border-gray-700 pb-2">Technical</h3>
                        <div class="space-y-5">
                            <div data-skill-percent="90"> <p class="font-medium text-white mb-1 text-lg">Scripting & Logic</p> <div class="h-2 w-full bg-gray-700/50 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-blue-600 to-indigo-600" style="width: 90%;"></div> </div> <p class="text-sm text-gray-400 mt-1">Game mechanics, UI interactions, backend logic</p> </div>
                            <div data-skill-percent="85"> <p class="font-medium text-white mb-1 text-lg">UI Design & Implementation</p> <div class="h-2 w-full bg-gray-700/50 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-blue-500 to-indigo-500" style="width: 85%;"></div> </div> <p class="text-sm text-gray-400 mt-1">Interface layout, visual styling, user experience</p> </div>
                            <div data-skill-percent="75"> <p class="font-medium text-white mb-1 text-lg">Performance Optimization</p> <div class="h-2 w-full bg-gray-700/50 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-blue-400 to-indigo-400" style="width: 75%;"></div> </div> <p class="text-sm text-gray-400 mt-1">Code efficiency, memory management, debugging</p> </div>
                            <div data-skill-percent="70"> <p class="font-medium text-white mb-1 text-lg">System Architecture</p> <div class="h-2 w-full bg-gray-700/50 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-blue-300 to-indigo-300" style="width: 70%;"></div> </div> <p class="text-sm text-gray-400 mt-1">Modular code design, event handling, data management</p> </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-semibold text-cyan-400 mb-6 border-b border-gray-700 pb-2">Creative</h3>
                        <div class="space-y-5">
                            <div data-skill-percent="75"> <p class="font-medium text-white mb-1 text-lg">Texture & Asset Design</p> <div class="h-2 w-full bg-gray-700/50 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-cyan-500 to-sky-500" style="width: 75%;"></div> </div> <p class="text-sm text-gray-400 mt-1">Creating textures, icons, and visual assets</p> </div>
                            <div data-skill-percent="60"> <p class="font-medium text-white mb-1 text-lg">Vector Art & UI Elements</p> <div class="h-2 w-full bg-gray-700/50 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-orange-500 to-amber-500" style="width: 60%;"></div> </div> <p class="text-sm text-gray-400 mt-1">Scalable graphics, interface components</p> </div>
                            <div data-skill-percent="70"> <p class="font-medium text-white mb-1 text-lg">3D Modeling</p> <div class="h-2 w-full bg-gray-700/50 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-red-500 to-rose-500" style="width: 70%;"></div> </div> <p class="text-sm text-gray-400 mt-1">Creating models, props, and environments</p> </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="portfolio" class="section-padding fade-in-section animated-gradient-background">
             <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-white section-title-accent">Portfolio Showcase</h2>
                <p class="text-center text-gray-400 mb-10 max-w-2xl mx-auto">Here's a selection of my recent projects. Click on any item to learn more.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-8">

                    <a href="#" class="block group portfolio-item-link"
                       data-title="Stargate: Horizon"
                       data-images='["images/pS1.png", "images/pS2.png", "images/pS3.png"]' data-description="A science-fiction project involving complex scripting for ship systems, UI design, and potentially 3D modeling elements. Focused on creating an immersive experience."
                       data-link="https://www.roblox.com/games/3901984129/Stargate-Horizons"
                       data-tags="Game Dev,Scripting,UI Design,3D Art">
                        <div class="bg-gray-800/80 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden transition duration-300 ease-in-out transform hover:scale-[1.03] border-2 border-transparent group-hover:border-indigo-500">
                            <img src="images/pS1.png" alt="Stargate: Horizon Thumbnail" class="w-full h-48 object-cover group-hover:opacity-80 transition duration-300" onerror="this.onerror=null; this.src='https://placehold.co/600x400/4b5563/e5e7eb?text=Stargate';"> <div class="p-6"> <h3 class="text-xl font-semibold text-white mb-2">Stargate: Horizon</h3> <p class="text-gray-400 text-sm mb-3">Sci-fi game project with complex systems and UI.</p> <div class="flex flex-wrap gap-2"> <span class="inline-block bg-purple-500/20 text-purple-300 text-xs font-medium px-2.5 py-0.5 rounded-full">Game Dev</span> <span class="inline-block bg-blue-500/20 text-blue-300 text-xs font-medium px-2.5 py-0.5 rounded-full">Scripting</span> <span class="inline-block bg-indigo-500/20 text-indigo-300 text-xs font-medium px-2.5 py-0.5 rounded-full">UI Design</span> <span class="inline-block bg-red-500/20 text-red-300 text-xs font-medium px-2.5 py-0.5 rounded-full">3D Art</span> </div> </div>
                        </div>
                    </a>

                    <a href="#" class="block group portfolio-item-link"
                       data-title="Project Franklin"
                       data-images='["images/pR1.png", "images/pR2.png", "images/pR3.png", "images/pR4.png"]' data-description="This is really a passion project that I wanted to work on, so here it is. I am going to be offering it for free!."
                       data-link="#"
                       data-tags="Scripting,Experiment,UI Design,Assets">
                        <div class="bg-gray-800/80 backdrop-blur-sm rounded-lg shadow-lg overflow-hidden transition duration-300 ease-in-out transform hover:scale-[1.03] border-2 border-transparent group-hover:border-indigo-500">
                            <img src="images/pR1.png" alt="Project Franklin Thumbnail" class="w-full h-48 object-cover group-hover:opacity-80 transition duration-300" onerror="this.onerror=null; this.src='https://placehold.co/600x400/52525b/e5e7eb?text=Franklin';"> <div class="p-6"> <h3 class="text-xl font-semibold text-white mb-2">Project Franklin</h3> <p class="text-gray-400 text-sm mb-3">Update this description for Project Franklin.</p> <div class="flex flex-wrap gap-2"> <span class="inline-block bg-blue-500/20 text-blue-300 text-xs font-medium px-2.5 py-0.5 rounded-full">Scripting</span> <span class="inline-block bg-yellow-500/20 text-yellow-300 text-xs font-medium px-2.5 py-0.5 rounded-full">Experiment</span> <span class="inline-block bg-indigo-500/20 text-indigo-300 text-xs font-medium px-2.5 py-0.5 rounded-full">UI Design</span> <span class="inline-block bg-green-500/20 text-green-300 text-xs font-medium px-2.5 py-0.5 rounded-full">Assets</span> </div> </div>
                        </div>
                    </a>
                </div>
             </div>
        </section>

        <section id="smp-section" class="section-padding border-t border-gray-800 fade-in-section animated-gradient-background">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-white section-title-accent">Extreme Juicers SMP</h2>
                <div class="flex flex-col lg:flex-row items-center gap-8 lg:gap-12">
                    <div class="w-full lg:w-1/2 xl:w-2/5 flex-shrink-0">
                        <div class="aspect-w-16 aspect-h-9 rounded-lg overflow-hidden shadow-lg border border-gray-700">
                             <img id="smp-image" src="images/smp1.png" alt="Extreme Juicers SMP Screenshot" class="w-full h-full object-cover bg-gray-800" onerror="this.onerror=null; this.src='https://placehold.co/1600x900/1f2937/374151?text=SMP+Image+Error';"> </div>
                    </div>
                    <div class="w-full lg:w-1/2 xl:w-3/5 text-center lg:text-left">
                        <p class="text-xl text-gray-300 mb-4 leading-relaxed">
                            Join Extreme Juicers, an awesome apply-to-join SMP server!
                        </p>
                        <p class="text-lg text-gray-400 leading-relaxed mb-6">
                            We pride ourselves on having an amazing and very mature community. If you're looking for a great place to build, collaborate, and have fun, this is it. Applications are reviewed carefully to maintain our community spirit.
                        </p>
                        <a href="https://discord.gg/6AhfhTYnqv" target="_blank" rel="noopener noreferrer" class="inline-flex items-center bg-indigo-600 hover:bg-indigo-700 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md transition duration-200 ease-in-out transform hover:scale-105">
                            <svg class="w-5 h-5 mr-2" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/></svg>
                             Apply to Join
                        </a>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <footer class="text-center p-6 bg-black text-gray-500 text-sm border-t border-gray-800">
         <p>&copy; <span id="current-year"></span> Blazinik. All Rights Reserved.</p>
    </footer>

    <div id="portfolio-modal" class="modal hidden fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm">
         <div class="bg-gray-900 p-6 md:p-8 rounded-lg shadow-2xl max-w-4xl w-full relative max-h-[90vh] flex flex-col border border-gray-700">
            <button id="modal-close-button" class="absolute top-3 right-3 text-gray-400 hover:text-white transition duration-150 ease-in-out z-20" aria-label="Close modal">
                 <svg class="w-8 h-8" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" x2="6" y1="6" y2="18"/><line x1="6" x2="18" y1="6" y2="18"/></svg>
            </button>
            <h2 id="modal-title" class="text-2xl md:text-3xl font-bold text-white mb-4 pr-10 flex-shrink-0">Project Title</h2>
            <div class="relative mb-4">
                 <img id="modal-carousel-image" src="https://placehold.co/800x600/374151/9ca3af?text=Loading..." alt="Project Image" class="w-full object-contain rounded-md bg-black max-h-[60vh]" onerror="this.onerror=null; this.src='https://placehold.co/800x600/374151/9ca3af?text=Image+Error';">
                 <button id="modal-prev-button" class="carousel-button prev" aria-label="Previous image"> <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"/></svg> </button>
                 <button id="modal-next-button" class="carousel-button next" aria-label="Next image"> <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"/></svg> </button>
            </div>
            <div class="flex-shrink-0 overflow-y-auto">
                <div class="text-center text-gray-400 text-sm mb-4" id="modal-image-counter">1 / 1</div>
                <p id="modal-description" class="text-gray-300 mb-4 leading-relaxed">Project description goes here...</p>
                <div id="modal-tags-container" class="mb-6 flex flex-wrap gap-2"></div>
                <a id="modal-link" href="#" target="_blank" rel="noopener noreferrer" class="inline-flex items-center bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out transform hover:scale-105 hidden">
                    <span id="modal-link-icon-container" class="mr-2">
                         <svg class="w-4 h-4 icon-play" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="6 3 20 12 6 21 6 3"/></svg>
                         <svg class="w-4 h-4 icon-link hidden" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg>
                    </span>
                    <span id="modal-link-text">Play Game</span>
                </a>
            </div>
        </div>
    </div>

    <script>
      // Wrap everything in the DOMContentLoaded listener
      document.addEventListener('DOMContentLoaded', () => {
        console.log("DOM Loaded. Initializing scripts...");

        try {
            // --- Style Load Check (Keep commented out unless actively debugging style load) ---
            /* ... */

            // --- Essential Element Checks ---
            const essentialIds = [ 'current-year', /* Removed mobile menu checks */ 'portfolio-modal', 'modal-close-button', 'modal-title', 'modal-carousel-image', 'modal-description', 'modal-link', 'modal-prev-button', 'modal-next-button', 'modal-image-counter', 'skills', 'modal-tags-container', 'smp-section', 'smp-image' ];
            essentialIds.forEach(id => { if (!document.getElementById(id)) { throw new Error(`Essential element missing: #${id}`); } });

            // --- Set current year ---
            const yearSpan = document.getElementById('current-year');
            yearSpan.textContent = new Date().getFullYear();

            // --- Portfolio Modal Carousel Logic ---
            const modal = document.getElementById('portfolio-modal');
            const modalCloseBtn = document.getElementById('modal-close-button');
            const modalTitle = document.getElementById('modal-title');
            const modalCarouselImage = document.getElementById('modal-carousel-image');
            const modalDescription = document.getElementById('modal-description');
            const modalLink = document.getElementById('modal-link');
            const modalLinkText = document.getElementById('modal-link-text');
            const modalLinkIconContainer = document.getElementById('modal-link-icon-container');
            const modalPrevButton = document.getElementById('modal-prev-button');
            const modalNextButton = document.getElementById('modal-next-button');
            const modalImageCounter = document.getElementById('modal-image-counter');
            const modalTagsContainer = document.getElementById('modal-tags-container');
            const portfolioLinks = document.querySelectorAll('.portfolio-item-link');
            let currentImages = []; let currentImageIndex = 0;
            if (portfolioLinks.length > 0) {
                function showModalImage(index) { if (index < 0 || index >= currentImages.length) return; currentImageIndex = index; modalCarouselImage.style.opacity = 0; setTimeout(() => { modalCarouselImage.src = currentImages[currentImageIndex]; modalCarouselImage.style.opacity = 1; }, 150); modalImageCounter.textContent = `${currentImageIndex + 1} / ${currentImages.length}`; modalPrevButton.disabled = currentImageIndex === 0; modalNextButton.disabled = currentImageIndex === currentImages.length - 1; }
                function displayModalTags(tagsString) { modalTagsContainer.innerHTML = ''; if (tagsString) { const tags = tagsString.split(','); tags.forEach(tag => { if (tag.trim()) { const t = document.createElement('span'); t.textContent = tag.trim(); t.className = 'inline-block bg-gray-700 text-gray-300 text-xs font-medium mr-2 mb-2 px-2.5 py-0.5 rounded-full'; modalTagsContainer.appendChild(t); } }); } }
                function openModal(title, imagesJson, description, linkHref, tagsString) { try { currentImages = JSON.parse(imagesJson || '[]'); } catch (e) { console.error("JSON Parse Error:", e); currentImages = []; } modalTitle.textContent = title; modalDescription.textContent = description; displayModalTags(tagsString); const playIcon = modalLinkIconContainer.querySelector('.icon-play'); const linkIcon = modalLinkIconContainer.querySelector('.icon-link'); modalLink.classList.remove('bg-blue-600', 'hover:bg-blue-700', 'bg-green-600', 'hover:bg-green-700'); if (title.toLowerCase().includes('stargate')) { if(modalLinkText) modalLinkText.textContent = ' Play Game'; if(playIcon) playIcon.classList.remove('hidden'); if(linkIcon) linkIcon.classList.add('hidden'); modalLink.classList.add('bg-green-600', 'hover:bg-green-700'); } else { if(modalLinkText) modalLinkText.textContent = ' View Live Demo'; if(playIcon) playIcon.classList.add('hidden'); if(linkIcon) linkIcon.classList.remove('hidden'); modalLink.classList.add('bg-blue-600', 'hover:bg-blue-700'); } if (linkHref && linkHref !== '#') { modalLink.href = linkHref; modalLink.classList.remove('hidden'); } else { modalLink.classList.add('hidden'); } if (currentImages.length > 0) { showModalImage(0); } else { modalCarouselImage.src = 'https://placehold.co/800x600/374151/9ca3af?text=No+Images'; modalImageCounter.textContent = '0 / 0'; modalPrevButton.disabled = true; modalNextButton.disabled = true; } modal.classList.remove('hidden'); document.body.classList.add('modal-open'); }
                function closeModal() { modal.classList.add('hidden'); document.body.classList.remove('modal-open'); currentImages = []; currentImageIndex = 0; modalTagsContainer.innerHTML = ''; }
                portfolioLinks.forEach(link => { link.addEventListener('click', (e) => { e.preventDefault(); const title = link.dataset.title || 'Project Details'; const imagesJson = link.dataset.images; const description = link.dataset.description || 'No description available.'; const linkHref = link.dataset.link; const tagsString = link.dataset.tags; openModal(title, imagesJson, description, linkHref, tagsString); }); });
                modalCloseBtn.addEventListener('click', closeModal); modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); }); modalPrevButton.addEventListener('click', () => { if (currentImageIndex > 0) showModalImage(currentImageIndex - 1); }); modalNextButton.addEventListener('click', () => { if (currentImageIndex < currentImages.length - 1) showModalImage(currentImageIndex + 1); });
            } else { console.warn("Portfolio links not found."); }

            // --- Animate Skill Bars ---
            const skillElements = document.querySelectorAll('[data-skill-percent]');
            function triggerSkillAnimation(element) { const percentage = element.getAttribute('data-skill-percent') || 0; const bar = element.querySelector('.skill-bar-inner'); if (bar && bar.style.width !== `${percentage}%`) { bar.style.width = `${percentage}%`; element.dataset.animated = 'true'; } }
            const skillsSection = document.getElementById('skills');
            if (skillsSection && skillElements.length > 0) { const skillObserver = new IntersectionObserver((entries, observer) => { entries.forEach(entry => { if (entry.isIntersecting && entry.target.dataset.animated !== 'true') { triggerSkillAnimation(entry.target); observer.unobserve(entry.target); } }); }, { threshold: 0.5 }); skillElements.forEach(el => { const bar = el.querySelector('.skill-bar-inner'); if(bar) bar.style.width = '0%'; skillObserver.observe(el); }); }

            // --- Section Fade-in Animation ---
            const sectionsToFade = document.querySelectorAll('.fade-in-section');
            if (sectionsToFade.length > 0) { const fadeObserver = new IntersectionObserver((entries, observer) => { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); } }); }, { threshold: 0.2 }); sectionsToFade.forEach(section => fadeObserver.observe(section)); }

            // --- SMP Image Carousel ---
            const smpImageElement = document.getElementById('smp-image');
            // Updated SMP image paths to use .png
            const smpImages = [ 'images/smp1.png', 'images/smp2.png', 'images/smp3.png', 'images/smp4.png' ]; // Verify extensions if different
            let currentSmpImageIndex = 0; let smpIntervalId = null;
            function changeSmpImage() { if (!smpImageElement || smpImages.length === 0) return; currentSmpImageIndex = (currentSmpImageIndex + 1) % smpImages.length; smpImageElement.style.opacity = 0; setTimeout(() => { smpImageElement.src = smpImages[currentSmpImageIndex]; smpImageElement.style.opacity = 1; }, 350); }
            if (smpImageElement && smpImages.length > 1) { console.log("Initializing SMP Image Carousel"); smpImageElement.src = smpImages[0]; smpIntervalId = setInterval(changeSmpImage, 5000); } else { console.log("Not enough images or element not found for SMP carousel."); }

        } catch (error) {
             console.error("Error during script initialization:", error);
             const styleErrorMessage = document.getElementById('style-error-message');
             if (styleErrorMessage) { styleErrorMessage.textContent = 'A critical error occurred. Please check console (F12). Error: ' + error.message; styleErrorMessage.style.display = 'block'; }
        }

      }); // End of DOMContentLoaded
    </script>
</body>
</html>
