<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Blazinik - Creative Professional</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
      @font-face {
        font-family: 'LucideIcons';
        src: url(https://cdn.jsdelivr.net/npm/lucide-static@latest/font/Lucide.ttf) format('truetype');
      }
      .lucide {
        font-family: 'LucideIcons';
        font-size: 1.1rem;
        line-height: 1;
        vertical-align: middle;
        margin-right: 0.35rem;
        font-style: normal;
        display: inline-block;
      }
      body {
        font-family: 'Inter', sans-serif;
        background-color: #0a0a0a; /* Slightly off-black */
        color: #e5e7eb; /* Lighter gray text */
        scroll-behavior: smooth;
        /* Subtle noise texture */
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='4' height='4' viewBox='0 0 4 4'%3E%3Cpath fill='%231f2937' fill-opacity='0.4' d='M1 3h1v1H1V3zm2-2h1v1H3V1z'%3E%3C/path%3E%3C/svg%3E");
      }
      body.modal-open { overflow: hidden; }

      /* Icons */
      .icon-skills::before { content: '\e9ee'; }
      .icon-artwork::before { content: '\e9a1'; }
      .icon-menu::before { content: '\ea48'; }
      .icon-close::before { content: '\e9f0'; }
      .icon-link::before { content: '\e9ff'; }
      .icon-prev::before { content: '\e96a'; } /* Chevron Left */
      .icon-next::before { content: '\e96e'; } /* Chevron Right */


      .section-padding { padding: 4rem 1rem; }
      @media (min-width: 768px) { .section-padding { padding: 6rem 2rem; } }

      .mobile-menu { transition: transform 0.3s ease-in-out; }
      .mobile-menu.hidden { transform: translateX(100%); }

      /* Skill bar - Initial state & base transition */
      .skill-bar-inner {
        width: 0%; /* Start at 0 width */
        transition-property: width; /* Animate only width */
        transition-timing-function: ease-out; /* Smooth easing */
        /* Duration and Delay set by JS */
      }

      /* Modal styles */
      .modal { transition: opacity 0.3s ease-in-out; }
      .modal.hidden { opacity: 0; pointer-events: none; }
      .modal:not(.hidden) { opacity: 1; }

      /* Carousel button styles */
      .carousel-button {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(17, 24, 39, 0.6); /* Darker gray bg */
        color: #d1d5db; /* Lighter gray icon */
        border: 1px solid rgba(55, 65, 81, 0.6); /* Subtle border */
        padding: 0.5rem;
        border-radius: 50%;
        cursor: pointer;
        transition: background-color 0.2s ease, border-color 0.2s ease;
        z-index: 10;
      }
      .carousel-button:hover {
        background-color: rgba(31, 41, 55, 0.8); /* Slightly lighter gray bg on hover */
        border-color: rgba(75, 85, 99, 0.8);
      }
      .carousel-button:disabled {
        opacity: 0.3;
        cursor: not-allowed;
      }
      .carousel-button.prev { left: 0.75rem; }
      .carousel-button.next { right: 0.75rem; }

      /* Section fade-in animation */
      .fade-in-section {
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.6s ease-out, transform 0.6s ease-out;
      }
      .fade-in-section.visible {
        opacity: 1;
        transform: translateY(0);
      }

      /* Accent border for section titles */
      .section-title-accent::after {
          content: '';
          display: block;
          width: 50px; /* Width of the accent line */
          height: 3px; /* Thickness of the line */
          background: linear-gradient(to right, #3b82f6, #6366f1); /* Gradient color */
          margin: 0.75rem auto 0; /* Spacing below title, centered */
          border-radius: 99px;
      }

      /* Style for the fallback error message */
      #style-error-message {
          background-color: #ef4444; /* Red background */
          color: white;
          text-align: center;
          padding: 1rem;
          font-weight: bold;
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          z-index: 10000; /* Ensure it's on top */
          display: none; /* Hidden by default */
      }

    </style>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
</head>
<body class="text-gray-200">

    <div id="style-error-message">
        Error: Styles did not load correctly. Please check the browser console (F12) for network errors or script issues.
    </div>

    <nav class="bg-gray-900/70 backdrop-blur-lg sticky top-0 z-50 shadow-md border-b border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex-shrink-0"><a href="#" class="text-white text-xl font-bold">Blazinik</a></div>
                <div class="hidden md:block">
                    <div class="ml-10 flex items-baseline space-x-4">
                        <a href="#skills" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition duration-150 ease-in-out">Skills</a>
                        <a href="#portfolio" class="text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition duration-150 ease-in-out">Portfolio</a>
                    </div>
                </div>
                <div class="-mr-2 flex md:hidden">
                    <button type="button" id="mobile-menu-button" class="bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-800 focus:ring-white" aria-controls="mobile-menu" aria-expanded="false">
                        <span class="sr-only">Open main menu</span><span class="lucide icon-menu block h-6 w-6"></span><span class="lucide icon-close hidden h-6 w-6"></span>
                    </button>
                </div>
            </div>
        </div>
        <div class="mobile-menu hidden md:hidden fixed inset-y-0 right-0 w-64 bg-gray-900 p-4 transform transition duration-300 ease-in-out z-40" id="mobile-menu">
            <div class="flex justify-end mb-4"><button type="button" id="mobile-close-button" class="bg-gray-800 inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-white hover:bg-gray-700 focus:outline-none"><span class="sr-only">Close menu</span><span class="lucide icon-close h-6 w-6"></span></button></div>
            <a href="#skills" class="block text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-base font-medium">Skills</a>
            <a href="#portfolio" class="block text-gray-300 hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-base font-medium">Portfolio</a>
        </div>
    </nav>

    <section id="hero" class="bg-gradient-to-br from-black to-gray-900 section-padding border-b border-gray-800 overflow-hidden">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex flex-col md:flex-row items-center gap-8 md:gap-12">
                <div class="flex-shrink-0 w-48 h-48 md:w-56 md:h-56 lg:w-64 lg:h-64">
                     <img src="https://placehold.co/256x256/111827/e5e7eb?text=Blaze" alt="Blazinik" class="w-full h-full rounded-full object-cover shadow-lg border-4 border-gray-700" onerror="this.onerror=null; this.src='https://placehold.co/256x256/374151/e5e7eb?text=Error';">
                </div>
                <div class="text-center md:text-left flex-grow">
                     <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold text-white mb-3">Blazinik</h1>
                     <p class="text-xl text-indigo-400 font-medium mb-4">Hey, I'm Blaze ðŸ‘‹</p>
                     <p class="text-lg text-gray-300 mb-8">ðŸ“š | Programmer</p>
                    <div class="flex flex-wrap justify-center md:justify-start gap-3 sm:gap-4">
                        <a href="#portfolio" class="inline-block bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md transition duration-200 ease-in-out transform hover:scale-105">View Portfolio</a>
                        <a href="#music-placeholder" class="inline-block bg-pink-600 hover:bg-pink-700 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md transition duration-200 ease-in-out transform hover:scale-105">Favorite Music</a>
                        <a href="#steam-placeholder" target="_blank" rel="noopener noreferrer" class="inline-block bg-gray-700 hover:bg-gray-600 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md transition duration-200 ease-in-out transform hover:scale-105">Steam</a>
                        <a href="#youtube-placeholder" target="_blank" rel="noopener noreferrer" class="inline-block bg-red-600 hover:bg-red-700 text-white font-semibold py-2.5 px-6 rounded-lg shadow-md transition duration-200 ease-in-out transform hover:scale-105">YouTube</a>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <main>
        <section id="skills" class="section-padding bg-gray-900 border-b border-gray-800 fade-in-section">
            <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-white section-title-accent">Technical & Creative Skills</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12">
                    <div>
                        <h3 class="text-2xl font-semibold text-indigo-400 mb-6 border-b border-gray-700 pb-2">Technical</h3>
                        <div class="space-y-5">
                            <div data-skill-percent="90"> <p class="font-medium text-white mb-1 text-lg">Scripting & Logic</p> <div class="h-2 w-full bg-gray-700 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-blue-600 to-indigo-600"></div> </div> <p class="text-sm text-gray-400 mt-1">Game mechanics, UI interactions, backend logic</p> </div>
                            <div data-skill-percent="85"> <p class="font-medium text-white mb-1 text-lg">UI Design & Implementation</p> <div class="h-2 w-full bg-gray-700 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-blue-500 to-indigo-500"></div> </div> <p class="text-sm text-gray-400 mt-1">Interface layout, visual styling, user experience</p> </div>
                            <div data-skill-percent="75"> <p class="font-medium text-white mb-1 text-lg">Performance Optimization</p> <div class="h-2 w-full bg-gray-700 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-blue-400 to-indigo-400"></div> </div> <p class="text-sm text-gray-400 mt-1">Code efficiency, memory management, debugging</p> </div>
                            <div data-skill-percent="70"> <p class="font-medium text-white mb-1 text-lg">System Architecture</p> <div class="h-2 w-full bg-gray-700 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-blue-300 to-indigo-300"></div> </div> <p class="text-sm text-gray-400 mt-1">Modular code design, event handling, data management</p> </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-semibold text-cyan-400 mb-6 border-b border-gray-700 pb-2">Creative</h3>
                        <div class="space-y-5">
                            <div data-skill-percent="75"> <p class="font-medium text-white mb-1 text-lg">Texture & Asset Design</p> <div class="h-2 w-full bg-gray-700 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-cyan-500 to-sky-500"></div> </div> <p class="text-sm text-gray-400 mt-1">Creating textures, icons, and visual assets</p> </div>
                            <div data-skill-percent="60"> <p class="font-medium text-white mb-1 text-lg">Vector Art & UI Elements</p> <div class="h-2 w-full bg-gray-700 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-orange-500 to-amber-500"></div> </div> <p class="text-sm text-gray-400 mt-1">Scalable graphics, interface components</p> </div>
                            <div data-skill-percent="70"> <p class="font-medium text-white mb-1 text-lg">3D Modeling</p> <div class="h-2 w-full bg-gray-700 rounded-full overflow-hidden"> <div class="skill-bar-inner h-full rounded-full bg-gradient-to-r from-red-500 to-rose-500"></div> </div> <p class="text-sm text-gray-400 mt-1">Creating models, props, and environments</p> </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="portfolio" class="section-padding bg-gray-900 fade-in-section">
             <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                <h2 class="text-3xl md:text-4xl font-bold mb-12 text-center text-white section-title-accent">Portfolio Showcase</h2>
                <p class="text-center text-gray-400 mb-10 max-w-2xl mx-auto">Here's a selection of my recent projects. Click on any item to learn more.</p>
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                    <a href="#" class="block group portfolio-item-link"
                       data-title="Advanced UI System"
                       data-images='["https://placehold.co/800x600/4b5563/e5e7eb?text=UI+System+1", "https://placehold.co/800x600/52525b/e5e7eb?text=UI+System+2", "https://placehold.co/800x600/6b7280/e5e7eb?text=UI+System+3"]'
                       data-description="Designed and implemented a complex user interface system featuring modal popups, dynamic inventory display, and interactive elements. Focused on responsive design and intuitive navigation."
                       data-link="#"
                       data-tags="UI Design,Scripting,UX">
                        <div class="bg-gray-800 rounded-lg shadow-lg overflow-hidden transition duration-300 ease-in-out transform hover:scale-[1.03] border-2 border-transparent group-hover:border-indigo-500">
                            <img src="https://placehold.co/600x400/4b5563/e5e7eb?text=UI+System" alt="Advanced UI System" class="w-full h-48 object-cover group-hover:opacity-80 transition duration-300" onerror="this.onerror=null; this.src='https://placehold.co/600x400/4b5563/e5e7eb?text=Error';">
                            <div class="p-6"> <h3 class="text-xl font-semibold text-white mb-2">Advanced UI System</h3> <p class="text-gray-400 text-sm mb-3">Complex interface with interactive elements & responsive layout.</p> <div class="flex flex-wrap gap-2"> <span class="inline-block bg-indigo-500/20 text-indigo-300 text-xs font-medium px-2.5 py-0.5 rounded-full">UI Design</span> <span class="inline-block bg-blue-500/20 text-blue-300 text-xs font-medium px-2.5 py-0.5 rounded-full">Scripting</span> <span class="inline-block bg-purple-500/20 text-purple-300 text-xs font-medium px-2.5 py-0.5 rounded-full">UX</span> </div> </div>
                        </div>
                    </a>
                    <a href="#" class="block group portfolio-item-link"
                       data-title="Procedural Environment Generation"
                       data-images='["https://placehold.co/800x600/52525b/e5e7eb?text=ProcGen+1", "https://placehold.co/800x600/4b5563/e5e7eb?text=ProcGen+2"]'
                       data-description="Developed a system for procedurally generating terrain and placing assets like trees and rocks. Focused on creating natural-looking, varied environments efficiently using noise algorithms and placement rules."
                       data-link="#"
                       data-tags="Scripting,Optimization,3D Modeling">
                        <div class="bg-gray-800 rounded-lg shadow-lg overflow-hidden transition duration-300 ease-in-out transform hover:scale-[1.03] border-2 border-transparent group-hover:border-indigo-500">
                            <img src="https://placehold.co/600x400/52525b/e5e7eb?text=ProcGen+Map" alt="Procedural Environment" class="w-full h-48 object-cover group-hover:opacity-80 transition duration-300" onerror="this.onerror=null; this.src='https://placehold.co/600x400/52525b/e5e7eb?text=Error';">
                            <div class="p-6"> <h3 class="text-xl font-semibold text-white mb-2">Procedural Environment</h3> <p class="text-gray-400 text-sm mb-3">Algorithmically generated terrain and asset placement.</p> <div class="flex flex-wrap gap-2"> <span class="inline-block bg-blue-500/20 text-blue-300 text-xs font-medium px-2.5 py-0.5 rounded-full">Scripting</span> <span class="inline-block bg-green-500/20 text-green-300 text-xs font-medium px-2.5 py-0.5 rounded-full">Optimization</span> <span class="inline-block bg-red-500/20 text-red-300 text-xs font-medium px-2.5 py-0.5 rounded-full">3D Modeling</span> </div> </div>
                        </div>
                    </a>
                    <a href="#" class="block group portfolio-item-link"
                       data-title="Custom Physics Interactions"
                       data-images='["https://placehold.co/800x600/6b7280/e5e7eb?text=Physics+1"]'
                       data-description="Implemented custom physics-based interactions for objects, including realistic collisions, constraints, and forces, going beyond default engine capabilities."
                       data-link="#"
                       data-tags="Scripting,Physics,System Design">
                        <div class="bg-gray-800 rounded-lg shadow-lg overflow-hidden transition duration-300 ease-in-out transform hover:scale-[1.03] border-2 border-transparent group-hover:border-indigo-500">
                            <img src="https://placehold.co/600x400/6b7280/e5e7eb?text=Physics+Demo" alt="Custom Physics" class="w-full h-48 object-cover group-hover:opacity-80 transition duration-300" onerror="this.onerror=null; this.src='https://placehold.co/600x400/6b7280/e5e7eb?text=Error';">
                            <div class="p-6"> <h3 class="text-xl font-semibold text-white mb-2">Custom Physics Interactions</h3> <p class="text-gray-400 text-sm mb-3">Scripted unique object behaviors and interactions.</p> <div class="flex flex-wrap gap-2"> <span class="inline-block bg-blue-500/20 text-blue-300 text-xs font-medium px-2.5 py-0.5 rounded-full">Scripting</span> <span class="inline-block bg-yellow-500/20 text-yellow-300 text-xs font-medium px-2.5 py-0.5 rounded-full">Physics</span> <span class="inline-block bg-purple-500/20 text-purple-300 text-xs font-medium px-2.5 py-0.5 rounded-full">System Design</span> </div> </div>
                        </div>
                    </a>
                </div>
             </div>
        </section>
    </main>

    <footer class="text-center p-6 bg-black text-gray-500 text-sm border-t border-gray-800">
         <p>&copy; <span id="current-year"></span> Blazinik. All Rights Reserved.</p>
    </footer>

    <div id="portfolio-modal" class="modal hidden fixed inset-0 z-[60] flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm">
        <div class="bg-gray-900 p-6 md:p-8 rounded-lg shadow-2xl max-w-4xl w-full relative max-h-[90vh] flex flex-col border border-gray-700">
            <button id="modal-close-button" class="absolute top-3 right-3 text-gray-400 hover:text-white transition duration-150 ease-in-out z-20" aria-label="Close modal">
                <span class="lucide icon-close text-3xl"></span>
            </button>
            <h2 id="modal-title" class="text-2xl md:text-3xl font-bold text-white mb-4 pr-10 flex-shrink-0">Project Title</h2>
            <div class="relative mb-4">
                 <img id="modal-carousel-image" src="https://placehold.co/800x600/374151/9ca3af?text=Loading..." alt="Project Image" class="w-full object-contain rounded-md bg-black max-h-[60vh]" onerror="this.onerror=null; this.src='https://placehold.co/800x600/374151/9ca3af?text=Image+Error';">
                 <button id="modal-prev-button" class="carousel-button prev" aria-label="Previous image"> <span class="lucide icon-prev text-2xl"></span> </button>
                 <button id="modal-next-button" class="carousel-button next" aria-label="Next image"> <span class="lucide icon-next text-2xl"></span> </button>
            </div>
            <div class="flex-shrink-0 overflow-y-auto">
                <div class="text-center text-gray-400 text-sm mb-4" id="modal-image-counter">1 / 1</div>
                <p id="modal-description" class="text-gray-300 mb-4 leading-relaxed">Project description goes here...</p>
                <div id="modal-tags-container" class="mb-6 flex flex-wrap gap-2"></div>
                <a id="modal-link" href="#" target="_blank" rel="noopener noreferrer" class="inline-flex items-center bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-5 rounded-lg shadow-md transition duration-200 ease-in-out transform hover:scale-105 hidden">
                    <span class="lucide icon-link mr-2"></span> View Live Demo
                </a>
            </div>
        </div>
    </div>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        console.log("DOM Loaded. Initializing scripts...");

        try {
            // --- Style Load Check ---
            const styleErrorMessage = document.getElementById('style-error-message');
            const bodyElement = document.body; // Element known to have Tailwind classes applied early

            // Check after a short delay to give Tailwind time to potentially initialize
            setTimeout(() => {
                // Check if a fundamental Tailwind class (like for font) has taken effect
                // Note: This check isn't foolproof but can catch complete failures.
                const bodyFontFamily = window.getComputedStyle(bodyElement).fontFamily;
                if (!bodyFontFamily || !bodyFontFamily.toLowerCase().includes('inter')) { // Check if Inter font applied by Tailwind base styles
                    console.error("Tailwind styles might not have loaded correctly!");
                    if (styleErrorMessage) {
                        styleErrorMessage.style.display = 'block'; // Show the error message
                    }
                } else {
                    console.log("Tailwind styles appear to be loaded.");
                }
            }, 1500); // Check after 1.5 seconds

            // --- Essential Element Checks ---
            // (Keep these checks as they are still useful)
            const essentialIds = [ /* ... list of IDs ... */ 'current-year', 'mobile-menu-button', 'mobile-close-button', 'mobile-menu', 'portfolio-modal', 'modal-close-button', 'modal-title', 'modal-carousel-image', 'modal-description', 'modal-link', 'modal-prev-button', 'modal-next-button', 'modal-image-counter', 'skills', 'modal-tags-container' ];
            let allEssentialsFound = true;
            essentialIds.forEach(id => { if (!document.getElementById(id)) { console.error(`Essential element with ID '${id}' not found!`); allEssentialsFound = false; } });
            const portfolioLinksExist = document.querySelectorAll('.portfolio-item-link').length > 0; if (!portfolioLinksExist) console.warn("No portfolio item links found.");
            const skillElementsExist = document.querySelectorAll('[data-skill-percent]').length > 0; if (!skillElementsExist) console.warn("No skill elements found.");
            if (!allEssentialsFound) { console.error("Halting script execution due to missing essential elements."); return; }

            // --- Set current year ---
            const yearSpan = document.getElementById('current-year');
            yearSpan.textContent = new Date().getFullYear();

            // --- Mobile Menu Toggle ---
            const menuButton = document.getElementById('mobile-menu-button');
            const closeButton = document.getElementById('mobile-close-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const menuIcon = menuButton.querySelector('.icon-menu');
            const closeIcon = menuButton.querySelector('.icon-close');
            function toggleMenu(open) { if (!mobileMenu || !menuIcon || !closeIcon || !menuButton) return; mobileMenu.classList.toggle('hidden', !open); menuIcon.classList.toggle('hidden', open); closeIcon.classList.toggle('hidden', !open); menuButton.setAttribute('aria-expanded', String(open)); }
            menuButton.addEventListener('click', () => { const isOpen = menuButton.getAttribute('aria-expanded') === 'false'; toggleMenu(isOpen); });
            closeButton.addEventListener('click', () => { toggleMenu(false); });
            mobileMenu.querySelectorAll('a').forEach(link => { link.addEventListener('click', () => { toggleMenu(false); }); });

            // --- Portfolio Modal Carousel Logic ---
            const modal = document.getElementById('portfolio-modal');
            const modalCloseBtn = document.getElementById('modal-close-button');
            const modalTitle = document.getElementById('modal-title');
            const modalCarouselImage = document.getElementById('modal-carousel-image');
            const modalDescription = document.getElementById('modal-description');
            const modalLink = document.getElementById('modal-link');
            const modalPrevButton = document.getElementById('modal-prev-button');
            const modalNextButton = document.getElementById('modal-next-button');
            const modalImageCounter = document.getElementById('modal-image-counter');
            const modalTagsContainer = document.getElementById('modal-tags-container');
            const portfolioLinks = document.querySelectorAll('.portfolio-item-link');

            let currentImages = [];
            let currentImageIndex = 0;

            function showModalImage(index) {
                if (!modalCarouselImage || !modalPrevButton || !modalNextButton || !modalImageCounter || !currentImages || currentImages.length === 0) return;
                if (index < 0 || index >= currentImages.length) { console.error("Invalid image index:", index); return; }
                currentImageIndex = index;
                modalCarouselImage.src = currentImages[currentImageIndex];
                modalImageCounter.textContent = `${currentImageIndex + 1} / ${currentImages.length}`;
                modalPrevButton.disabled = currentImageIndex === 0;
                modalNextButton.disabled = currentImageIndex === currentImages.length - 1;
            }

            function displayModalTags(tagsString) {
                modalTagsContainer.innerHTML = '';
                if (tagsString) {
                    const tags = tagsString.split(',');
                    tags.forEach(tag => {
                        if (tag.trim()) {
                            const tagElement = document.createElement('span');
                            tagElement.textContent = tag.trim();
                            tagElement.className = 'inline-block bg-gray-700 text-gray-300 text-xs font-medium mr-2 mb-2 px-2.5 py-0.5 rounded-full';
                            modalTagsContainer.appendChild(tagElement);
                        }
                    });
                }
            }

            function openModal(title, imagesJson, description, linkHref, tagsString) {
                console.log("Opening modal for:", title);
                try { currentImages = JSON.parse(imagesJson || '[]'); } catch (e) { console.error("Failed to parse images JSON:", imagesJson, e); currentImages = []; }
                modalTitle.textContent = title;
                modalDescription.textContent = description;
                displayModalTags(tagsString);
                if (linkHref && linkHref !== '#') { modalLink.href = linkHref; modalLink.classList.remove('hidden'); } else { modalLink.classList.add('hidden'); }
                if (currentImages.length > 0) { showModalImage(0); } else { modalCarouselImage.src = 'https://placehold.co/800x600/374151/9ca3af?text=No+Images'; modalImageCounter.textContent = '0 / 0'; if(modalPrevButton) modalPrevButton.disabled = true; if(modalNextButton) modalNextButton.disabled = true; }
                modal.classList.remove('hidden'); document.body.classList.add('modal-open');
            }

            function closeModal() { console.log("Closing modal"); modal.classList.add('hidden'); document.body.classList.remove('modal-open'); currentImages = []; currentImageIndex = 0; modalTagsContainer.innerHTML = ''; }
            portfolioLinks.forEach(link => { link.addEventListener('click', (e) => { e.preventDefault(); const title = link.dataset.title || 'Project Details'; const imagesJson = link.dataset.images; const description = link.dataset.description || 'No description available.'; const linkHref = link.dataset.link; const tagsString = link.dataset.tags; openModal(title, imagesJson, description, linkHref, tagsString); }); });
            modalCloseBtn.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });
            modalPrevButton.addEventListener('click', () => { if (currentImageIndex > 0) showModalImage(currentImageIndex - 1); });
            modalNextButton.addEventListener('click', () => { if (currentImageIndex < currentImages.length - 1) showModalImage(currentImageIndex + 1); });

            // --- Animate Skill Bars with Staggered Delay/Speed ---
            const skillElements = document.querySelectorAll('[data-skill-percent]');
            function triggerSkillAnimation(element) {
                const percentage = element.getAttribute('data-skill-percent') || 0;
                const bar = element.querySelector('.skill-bar-inner');
                if (bar && bar.style.width !== `${percentage}%`) {
                    const randomDuration = (Math.random() * 0.6 + 0.6).toFixed(2);
                    const randomDelay = (Math.random() * 0.4).toFixed(2);
                    bar.style.transitionDuration = `${randomDuration}s`;
                    bar.style.transitionDelay = `${randomDelay}s`;
                    bar.style.width = `${percentage}%`;
                    element.dataset.animated = 'true';
                } else if (!bar) { console.warn("Inner skill bar not found:", element); }
            }

            // --- Intersection Observer Setup ---
            const observerOptions = { root: null, rootMargin: '0px', threshold: 0.5 };
            const skillsSection = document.getElementById('skills');
            let skillObserver;
            function handleSkillIntersection(entries, observer) { entries.forEach(entry => { const skillElement = entry.target; if (entry.isIntersecting && skillElement.dataset.animated !== 'true') { triggerSkillAnimation(skillElement); observer.unobserve(skillElement); } }); }
            if (skillElements.length > 0) { // Check if elements exist before creating observer
                 console.log(`Initializing Skill Observer for ${skillElements.length} elements.`);
                 skillObserver = new IntersectionObserver(handleSkillIntersection, observerOptions);
                 skillElements.forEach(el => { const bar = el.querySelector('.skill-bar-inner'); if(bar) bar.style.width = '0%'; skillObserver.observe(el); });
            } // No need for else, already warned if elements don't exist

            // Observer for Section Fade-in animations
            const sectionsToFade = document.querySelectorAll('.fade-in-section');
            let fadeObserver;
            function handleFadeIntersection(entries, observer) { entries.forEach(entry => { if (entry.isIntersecting) { entry.target.classList.add('visible'); observer.unobserve(entry.target); } }); }
            if (sectionsToFade.length > 0) { console.log(`Initializing Fade Observer for ${sectionsToFade.length} sections.`); fadeObserver = new IntersectionObserver(handleFadeIntersection, { threshold: 0.2 }); sectionsToFade.forEach(section => fadeObserver.observe(section)); } else { console.warn("No sections found for fade-in effect."); }

        } catch (error) {
             console.error("Error during script initialization:", error);
             // Display fallback error message if initialization fails
             const styleErrorMessage = document.getElementById('style-error-message');
             if (styleErrorMessage) {
                 styleErrorMessage.textContent = 'A critical error occurred during page load. Please check console (F12).';
                 styleErrorMessage.style.display = 'block';
             }
        }

      }); // End of DOMContentLoaded
    </script>
</body>
</html>
