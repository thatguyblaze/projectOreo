<!DOCTYPE html>
<html lang="en" class="dark scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Finance Hub - Your Personal Finance Calendar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-primary: #000000;
            --bg-secondary: #1c1c1e;
            --bg-tertiary: #2c2c2e;
            --bg-hero: #0a0a0a; /* Even darker hero for more depth */
            --bg-modal: rgba(20, 20, 22, 0.92); 
            --text-primary: #ffffff;
            --text-secondary: #8e8e93;
            --text-tertiary: #636366;
            --border-color: #38383a; 
            --border-light: #4a4a4c;
            --accent-primary: #0a84ff; 
            --accent-green: #30d158; 
            --accent-red: #ff453a; 
            --accent-yellow: #ffd60a; 
            --accent-purple: #bf5af2; 
            --accent-teal: #64d2ff; 
            --accent-orange: #ff9500; 
            --accent-pink: #ff2d55;
            --accent-cyan: #5ac8fa; /* New accent for subscriptions or net worth */


            --accent-bill-icon: var(--accent-red);
            --accent-paycheck-icon: var(--accent-green);
            --accent-birthday-icon: var(--accent-purple);
            --accent-holiday-icon: var(--accent-orange);
            --accent-subscription-icon: var(--accent-cyan);


            --font-family-sans: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        }

        html { scroll-behavior: smooth; }
        body {
            font-family: var(--font-family-sans);
            background-color: var(--bg-primary);
            color: var(--text-primary);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden; 
        }

        /* Animation Classes */
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        @keyframes fadeInUp { from { opacity: 0; transform: translateY(25px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes scaleUp { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }

        .animate-fadeIn { animation: fadeIn 0.6s ease-out forwards; }
        .animate-fadeInUp { animation: fadeInUp 0.7s ease-out forwards; }
        .animate-scaleUp { animation: scaleUp 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }

        .animate-delay-100 { animation-delay: 0.1s; }
        .animate-delay-200 { animation-delay: 0.2s; }
        .animate-delay-300 { animation-delay: 0.3s; }
        .animate-delay-500 { animation-delay: 0.5s; }
        .animate-delay-700 { animation-delay: 0.7s; }


        .apple-card {
            background-color: var(--bg-secondary); border-radius: 1.25rem; 
            padding: 1.5rem; border: 1px solid var(--border-color);
            box-shadow: 0 10px 30px rgba(0,0,0,0.25); 
            opacity: 0; /* For entry animation */
        }

        .apple-input {
            background-color: var(--bg-tertiary); border: 1px solid var(--border-color); 
            color: var(--text-primary); border-radius: 0.625rem; 
            padding: 0.75rem 1rem; font-size: 1rem; width: 100%;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }
        .apple-input:focus {
            outline: none; border-color: var(--accent-primary);
            box-shadow: 0 0 0 3.5px rgba(10, 132, 255, 0.35); 
        }
        .apple-input::placeholder { color: var(--text-tertiary); }
        select.apple-input {
            appearance: none;
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%238E8E93' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='m6 8 4 4 4-4'/%3E%3C/svg%3E");
            background-repeat: no-repeat; background-position: right 0.75rem center;
            background-size: 1.1em 1.1em; padding-right: 2.5rem;
        }
        input[type="date"].apple-input { color-scheme: dark; }
        input[type="date"].apple-input::-webkit-calendar-picker-indicator { filter: invert(0.8) brightness(0.8); cursor: pointer; }

        .apple-button {
            display: inline-flex; align-items: center; justify-content: center; gap: 0.5rem;
            border-radius: 0.75rem; 
            transition: background-color 0.2s ease, transform 0.15s ease, filter 0.2s ease, box-shadow 0.2s ease;
            font-weight: 600; padding: 0.75rem 1.5rem;
            border: none; cursor: pointer; font-size: 1rem; text-align: center;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .apple-button-primary { background-color: var(--accent-primary); color: var(--text-primary); }
        .apple-button-primary:hover { filter: brightness(1.1); transform: translateY(-1px); box-shadow: 0 4px 8px rgba(10, 132, 255, 0.2); }
        .apple-button-primary:active { transform: scale(0.96) translateY(0); filter: brightness(0.85); box-shadow: 0 1px 2px rgba(0,0,0,0.1);}
        .apple-button-secondary { background-color: var(--bg-tertiary); color: var(--accent-primary); }
        .apple-button-secondary:hover { filter: brightness(1.15); transform: translateY(-1px); box-shadow: 0 4px 8px rgba(0,0,0,0.15); }
        .apple-button-secondary:active { transform: scale(0.96) translateY(0); filter: brightness(0.9); box-shadow: 0 1px 2px rgba(0,0,0,0.1);}

        /* Hero Section Styles */
        #heroSection {
            background-color: var(--bg-hero);
            background-image: 
                radial-gradient(circle at 25% 25%, rgba(10, 132, 255, 0.05) 0%, transparent 50%), /* Subtle blue glow */
                radial-gradient(circle at 75% 75%, rgba(48, 209, 88, 0.04) 0%, transparent 50%), /* Subtle green glow */
                linear-gradient(rgba(255,255,255,0.01) 1px, transparent 1px), 
                linear-gradient(90deg, rgba(255,255,255,0.01) 1px, transparent 1px);
            background-size: 100% 100%, 100% 100%, 30px 30px, 30px 30px;
            min-height: 100vh; 
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            text-align: center; padding: 2rem 1rem;
            position: relative; 
        }
        .hero-title { font-size: 3.8rem; font-weight: 800; color: var(--text-primary); line-height: 1.1; margin-bottom: 1.5rem; letter-spacing: -0.025em;}
        @media (min-width: 768px) { .hero-title { font-size: 6rem; } } 
        .hero-subtitle { font-size: 1.4rem; color: var(--text-secondary); max-width: 750px; margin: 0 auto 2.5rem auto; line-height: 1.7; }
        .hero-button { padding: 1.1rem 2.75rem; font-size: 1.125rem; }
        #visitStreakCounter {
            position: absolute; top: 2rem; right: 2rem;
            background-color: rgba(44, 44, 46, 0.7); backdrop-filter: blur(8px);
            padding: 0.6rem 1.2rem; border-radius: 0.875rem;
            font-size: 0.9rem; font-weight: 500; color: var(--text-primary);
            display: flex; align-items: center; gap: 0.6rem;
            opacity: 0; border: 1px solid rgba(255,255,255,0.1);
        }
        #visitStreakCounter.visible { opacity: 1; transition: opacity 0.5s ease-in-out; }
        #visitStreakCounter svg { width: 1.35rem; height: 1.35rem; color: var(--accent-orange); }


        /* Calendar Styles */
        .calendar-grid { display: grid; grid-template-columns: repeat(7, 1fr); gap: 5px; } 
        .calendar-header-cell, .calendar-day-cell { text-align: center; padding: 0.5rem 0.25rem; font-size: 0.875rem; }
        .calendar-header-cell { color: var(--text-secondary); font-weight: 500; }
        .calendar-day-cell {
            background-color: var(--bg-tertiary); border-radius: 0.625rem; min-height: 100px;
            display: flex; flex-direction: column; align-items: center; justify-content: flex-start;
            padding: 0.5rem; cursor: pointer; transition: background-color 0.2s, transform 0.2s, box-shadow 0.2s; position: relative;
            border: 1px solid transparent; /* For hover/active states */
        }
        .calendar-day-cell:hover { background-color: #3a3a3c; transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.1); }
        .calendar-day-cell.today { background-color: var(--accent-primary); color: var(--text-primary); font-weight: 700; border-color: var(--accent-primary); }
        .calendar-day-cell.today .day-number { color: var(--text-primary) !important; }
        .calendar-day-cell.other-month { color: var(--text-tertiary); opacity: 0.4; pointer-events: none; }
        .calendar-day-cell.other-month .day-number { color: var(--text-tertiary) !important; }
        .day-number { font-size: 0.875rem; margin-bottom: 0.25rem; z-index: 1; }
        
        .event-name-display {
            font-size: 0.65rem; margin-top: 2px; line-height: 1.1; font-weight: 500;
            overflow: hidden; text-overflow: ellipsis; display: -webkit-box;
            -webkit-line-clamp: 2; -webkit-box-orient: vertical; max-height: 2.2em;
        }
        .holiday-name-display { color: var(--accent-holiday-icon); }
        .birthday-name-display { color: var(--accent-birthday-icon); }

        .calendar-day-cell.holiday-cell { border-color: var(--accent-holiday-icon); }
        .calendar-day-cell.birthday-cell { border-color: var(--accent-birthday-icon); }
        /* Today overrides other borders unless specified */
        .calendar-day-cell.holiday-cell.today { border-color: var(--accent-primary); /* Or keep holiday border: var(--accent-holiday-icon) */ }
        .calendar-day-cell.birthday-cell.today { border-color: var(--accent-primary); /* Or keep birthday border: var(--accent-birthday-icon) */ }


        .item-indicator-container {
            display: flex; flex-wrap: wrap; justify-content: center; align-items: flex-end;
            gap: 3px; margin-top: auto; padding-bottom: 2px; width: 100%; min-height: 20px;
        }
        .calendar-icon { width: 12px; height: 12px; margin: 0px; }

        /* FAB (Floating Action Button) */
        #fabAddTransaction {
            position: fixed; bottom: 2rem; right: 2rem;
            background-color: var(--accent-primary); color: white;
            width: 3.75rem; height: 3.75rem; border-radius: 50%; /* Slightly larger */
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 8px 25px rgba(10, 132, 255, 0.45);
            cursor: pointer; z-index: 30;
            transition: transform 0.2s cubic-bezier(0.175, 0.885, 0.32, 1.275), background-color 0.2s ease, box-shadow 0.2s ease;
            opacity: 0; transform: scale(0.5) translateY(20px); 
        }
        #fabAddTransaction.visible { opacity: 1; transform: scale(1) translateY(0); }
        #fabAddTransaction:hover { background-color: #0077ee; transform: scale(1.08); box-shadow: 0 10px 30px rgba(10, 132, 255, 0.55); }
        #fabAddTransaction svg { width: 1.75rem; height: 1.75rem; }


        /* Modal Styles (General & Day Details) */
        .modal-backdrop {
            position: fixed; inset: 0; background-color: rgba(0,0,0,0.8); 
            display: flex; align-items: center; justify-content: center; z-index: 50;
            opacity: 0; visibility: hidden; transition: opacity 0.3s ease, visibility 0.3s ease;
        }
        .modal-backdrop.active { opacity: 1; visibility: visible; }
        .modal-content {
            background-color: var(--bg-modal); backdrop-filter: blur(16px) saturate(180%); 
            padding: 1.75rem; border-radius: 1.5rem; width: 90%; max-width: 520px; /* Slightly wider */
            max-height: 90vh; overflow-y: auto; transform: scale(0.9) translateY(15px);
            transition: transform 0.35s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s ease; 
             border: 1px solid var(--border-light);
             box-shadow: 0 15px 40px rgba(0,0,0,0.3);
        }
        .modal-backdrop.active .modal-content { transform: scale(1) translateY(0); opacity: 1; }

        #dayDetailsModalContent .day-details-item {
            display: flex; align-items: center; padding: 0.75rem 0.25rem; /* More padding */
            border-bottom: 1px solid var(--border-color); font-size: 0.9rem; /* Slightly larger font */
        }
        #dayDetailsModalContent .day-details-item:last-child { border-bottom: none; }
        #dayDetailsModalContent .day-details-item-icon { margin-right: 0.875rem; flex-shrink: 0; width: 1.35rem; height: 1.35rem;}
        #dayDetailsModalContent .day-details-item-desc { flex-grow: 1; color: var(--text-primary); }
        #dayDetailsModalContent .day-details-item-amount { font-weight: 500; color: var(--text-secondary); }
        #dayDetailsModalContent .day-details-actions { margin-top: 1.5rem; display: flex; justify-content: flex-end;}
        .day-details-add-btn {
            position: absolute; bottom: 1.25rem; right: 1.25rem;
            background-color: var(--accent-primary); color: white;
            width: 3.25rem; height: 3.25rem; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            box-shadow: 0 4px 12px rgba(0,0,0,0.2);
            transition: transform 0.2s ease, background-color 0.2s ease;
        }
        .day-details-add-btn:hover { transform: scale(1.1); background-color: #0077ee; }
        .day-details-add-btn svg { width: 1.6rem; height: 1.6rem; }
        .day-details-item-clickable { cursor: pointer; transition: background-color 0.15s ease; border-radius: 0.5rem; margin: 0 -0.25rem; } /* Add rounding and negative margin for hover */
        .day-details-item-clickable:hover { background-color: rgba(255,255,255,0.05); }

        ::-webkit-scrollbar { width: 8px; height: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-tertiary); border-radius: 4px;}
        ::-webkit-scrollbar-thumb { background: var(--text-tertiary); border-radius: 4px; }
        ::-webkit-scrollbar-thumb:hover { background: var(--text-secondary); }

        .category-badge-list {
            display: inline-flex; align-items: center; gap: 0.3rem; 
            padding: 0.2rem 0.5rem; border-radius: 0.5rem; 
            font-size: 0.75rem; font-weight: 500; line-height: 1;
            border: 1px solid transparent; 
        }
        .category-badge-list svg { width: 12px; height: 12px; }

        .summary-card, .insight-card, .new-feature-card { /* Shared style for consistency */
            background-color: var(--bg-secondary); padding: 1.25rem; border-radius: 1rem; /* Consistent rounding */
        }
        .card-title { /* Generic card title */
            font-size: 1.125rem; /* Slightly larger */
            font-weight: 600; 
            color: var(--text-primary); 
            margin-bottom: 0.75rem; 
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border-color);
        }
        .summary-card-title { font-size: 0.875rem; color: var(--text-secondary); margin-bottom: 0.25rem; border-bottom: none; padding-bottom: 0;}
        .summary-card-value { font-size: 1.75rem; font-weight: 600; }
        .insight-card-content, .new-feature-card-content { font-size: 0.95rem; color: var(--text-primary); margin-top: 0.5rem; }
        .text-positive { color: var(--accent-green); }
        .text-negative { color: var(--accent-red); }

        .transaction-list-item, .sidebar-list-item { /* Generic list item for sidebar */
            display: flex; justify-content: space-between; align-items: center;
            padding: 0.75rem 0.25rem; border-bottom: 1px solid var(--border-color);
            transition: background-color 0.15s ease;
        }
        .sidebar-list-item:last-child { border-bottom: none; }
        .sidebar-list-item:hover { background-color: var(--bg-tertiary); }
        .transaction-delete-button { background: none; border: none; color: var(--accent-red); padding: 0.25rem; cursor: pointer; opacity: 0.7; }
        .transaction-delete-button:hover { opacity: 1; }
        .transaction-delete-button svg { width: 1.1rem; height: 1.1rem; }
        .btn-icon { width: 1.25em; height: 1.25em; }

        .savings-goal-item { padding: 0.75rem 0; border-bottom: 1px solid var(--border-color); }
        .savings-goal-item:last-child { border-bottom: none; }
        .savings-goal-progress-bar-bg { background-color: var(--bg-tertiary); border-radius: 0.25rem; height: 8px; overflow: hidden; }
        .savings-goal-progress-bar-fg { background-color: var(--accent-orange); height: 100%; border-radius: 0.25rem; transition: width 0.3s ease; }
        .add-to-goal-btn { font-size: 0.75rem !important; padding: 0.25rem 0.5rem !important; }

        /* New Feature Card Specifics */
        .list-item-sm { font-size: 0.875rem; padding: 0.4rem 0; border-bottom: 1px dashed var(--border-color); }
        .list-item-sm:last-child { border-bottom: none; }
        .list-item-sm .item-name { color: var(--text-primary); }
        .list-item-sm .item-value { color: var(--text-secondary); }
        .list-item-sm .item-renewal { color: var(--accent-orange); font-size: 0.75rem; }

        .net-worth-section h4 { font-size: 0.9rem; font-weight: 500; color: var(--text-secondary); margin-top: 0.5rem; margin-bottom: 0.25rem; }
        #netWorthDisplay { font-size: 1.5rem; font-weight: 700; margin-top: 0.75rem; text-align: center; }


        .literacy-section details { margin-bottom: 1rem; }
        .literacy-section summary {
            font-size: 1.125rem; font-weight: 600; color: var(--text-primary);
            padding: 0.75rem; background-color: var(--bg-tertiary); border-radius: 0.5rem;
            cursor: pointer; list-style: none; 
            display: flex; justify-content: space-between; align-items: center;
            transition: background-color 0.2s ease;
        }
        .literacy-section summary:hover { background-color: var(--border-light); }
        .literacy-section summary::-webkit-details-marker { display: none; } 
        .literacy-section summary::after { 
            content: '+'; font-size: 1.5rem; color: var(--accent-primary);
            transition: transform 0.2s ease;
        }
        .literacy-section details[open] summary::after { transform: rotate(45deg); }
        .literacy-section .literacy-content {
            padding: 1rem; background-color: var(--bg-secondary); border-radius: 0 0 0.5rem 0.5rem;
            border: 1px solid var(--border-color); border-top: none;
            font-size: 0.95rem; line-height: 1.6; color: var(--text-secondary);
        }
        .literacy-section .literacy-content p { margin-bottom: 0.75rem; }
    </style>
</head>
<body class="min-h-screen flex flex-col">

    <section id="heroSection" class="opacity-0"> <div id="visitStreakCounter" class="opacity-0">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.39-3.423 3.356c-.82.804-.293 2.185.837 2.185h6.957a.75.75 0 0 1 .75.75v6.957c0 1.13.913 2.043 2.043 2.043h.009c1.13 0 2.043-.913 2.043-2.043v-6.957a.75.75 0 0 1 .75-.75h6.957c1.13 0 1.657-1.38.837-2.185l-3.423-3.356-4.753-.39-1.83-4.401Z" clip-rule="evenodd" /></svg>
            <span id="streakCountText">0 Day Streak</span>
        </div>
        <div class="container mx-auto px-4 sm:px-6 lg:px-8">
            <h1 class="hero-title animate-fadeInUp">Master Your Money.</h1>
            <p id="heroSubtitle" class="hero-subtitle animate-fadeInUp animate-delay-200">
                Visually track spending, manage bills, and reach your savings goals. 
                Your financial journey, simplified and beautifully displayed.
            </p>
            <button id="getStartedBtn" class="apple-button apple-button-primary hero-button animate-fadeInUp animate-delay-500">
                View Dashboard
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-5 h-5 ml-1"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 13.5 12 21m0 0-7.5-7.5M12 21V3" /></svg>
            </button>
        </div>
    </section>

    <main id="mainContent" class="flex-grow container mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            
            <section id="calendarViewSection" class="lg:col-span-2 apple-card animate-fadeInUp">
                <div class="flex items-center justify-between mb-6">
                    <button id="prevMonthBtn" class="apple-button apple-button-secondary !p-2">
                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5L8.25 12l7.5-7.5" /></svg>
                    </button>
                    <h2 id="currentMonthYear" class="text-xl font-semibold text-center">Month Year</h2>
                    <button id="nextMonthBtn" class="apple-button apple-button-secondary !p-2">
                        <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M8.25 4.5l7.5 7.5-7.5 7.5" /></svg>
                    </button>
                </div>
                <div id="calendarHeaders" class="calendar-grid mb-1"></div>
                <div id="calendarGrid" class="calendar-grid"></div>
                <p id="calendar-placeholder" class="text-center text-[var(--text-secondary)] italic mt-4 text-sm hidden">No financial items in this month.</p>
            </section>

            <aside class="space-y-6">
                <div class="grid grid-cols-1 gap-4 apple-card animate-fadeInUp animate-delay-100">
                    <div class="summary-card !bg-transparent !p-0">
                        <h3 class="summary-card-title">Month Net</h3>
                        <div id="dashboard-summary-net" class="summary-card-value">$0.00</div>
                    </div>
                    <div class="summary-card !bg-transparent !p-0">
                        <h3 class="summary-card-title">Month Income</h3>
                        <div id="dashboard-summary-income" class="summary-card-value text-positive">$0.00</div>
                    </div>
                    <div class="summary-card !bg-transparent !p-0">
                        <h3 class="summary-card-title">Month Spending</h3>
                        <div id="dashboard-summary-expenses" class="summary-card-value text-negative">$0.00</div>
                    </div>
                </div>
                
                <div class="apple-card animate-fadeInUp animate-delay-200">
                    <h3 class="card-title">Income</h3>
                    <form id="income-form" class="space-y-3 mt-3">
                        <div class="grid grid-cols-2 gap-3">
                            <div>
                                <label for="weekly-income" class="text-sm text-[var(--text-secondary)] mb-1 block">Weekly Amount</label>
                                <input type="number" id="weekly-income" class="apple-input" step="0.01" placeholder="e.g., 500">
                            </div>
                            <div>
                                <label for="payday" class="text-sm text-[var(--text-secondary)] mb-1 block">Payday</label>
                                <select id="payday" class="apple-input">
                                    <option value="" disabled selected>Select Day</option>
                                    <option value="0">Sunday</option><option value="1">Monday</option><option value="2">Tuesday</option>
                                    <option value="3">Wednesday</option><option value="4">Thursday</option><option value="5">Friday</option>
                                    <option value="6">Saturday</option>
                                </select>
                            </div>
                        </div>
                        <button type="submit" class="apple-button apple-button-secondary w-full">Save Income</button>
                    </form>
                    <div class="mt-3 text-center text-xs text-[var(--text-secondary)]">
                        Current: <strong id="display-income" class="text-[var(--accent-primary)]">$0.00</strong> weekly, paid <strong id="display-payday" class="text-[var(--accent-primary)]">N/A</strong>
                    </div>
                </div>

                <div class="apple-card animate-fadeInUp animate-delay-300">
                    <div class="flex justify-between items-center mb-3">
                        <h3 class="card-title !border-none !p-0 !m-0">Recent Expenses</h3>
                        <select id="filter-category-sidebar" class="apple-input !text-xs !py-1 !w-auto"></select>
                    </div>
                    <ul id="expense-list-sidebar" class="space-y-1 max-h-60 overflow-y-auto text-sm"></ul>
                </div>
                <div class="apple-card animate-fadeInUp animate-delay-300" id="recurring-bills-sidebar-card">
                    <h3 class="card-title">Upcoming Bills</h3>
                    <ul id="recurring-list-sidebar" class="space-y-1 max-h-60 overflow-y-auto text-sm mt-3"></ul>
                </div>

                <div class="apple-card new-feature-card animate-fadeInUp animate-delay-500" id="subscription-tracker-card">
                    <h3 class="card-title">Subscription Tracker</h3>
                    <form id="add-subscription-form" class="space-y-2 mb-4 mt-3">
                        <div class="grid grid-cols-2 gap-2">
                            <input type="text" id="subscription-name" class="apple-input !text-sm" placeholder="Service Name (e.g., Netflix)" required>
                            <input type="number" id="subscription-amount" class="apple-input !text-sm" placeholder="Amount ($)" step="0.01" required>
                        </div>
                        <div class="grid grid-cols-2 gap-2">
                             <input type="date" id="subscription-renewal-date" class="apple-input !text-sm" required title="Next Renewal Date">
                             <select id="subscription-category" class="apple-input !text-sm" required>
                                <option value="" disabled selected>Category</option>
                                <option value="Entertainment">Entertainment</option>
                                <option value="Software">Software</option>
                                <option value="Productivity">Productivity</option>
                                <option value="News">News</option>
                                <option value="Other">Other</option>
                             </select>
                        </div>
                        <button type="submit" class="apple-button apple-button-secondary w-full !text-sm !py-1.5">Add Subscription</button>
                    </form>
                    <ul id="subscription-list" class="space-y-1 max-h-60 overflow-y-auto text-sm">
                        <li class="text-center text-xs text-[var(--text-secondary)]">No subscriptions tracked yet.</li>
                        </ul>
                    <div id="total-monthly-subscriptions" class="text-right text-sm font-semibold mt-3 pt-2 border-t border-[var(--border-color)]">
                        Total Monthly: $0.00
                    </div>
                </div>

                <div class="apple-card animate-fadeInUp animate-delay-500" id="savings-goals-card">
                    <h3 class="card-title">Savings Goals</h3>
                    <form id="add-goal-form" class="grid grid-cols-3 gap-2 mb-4 mt-3 items-end">
                        <div class="col-span-2">
                            <label for="goal-name" class="text-xs text-[var(--text-secondary)] mb-1 block">Goal Name</label>
                            <input type="text" id="goal-name" class="apple-input !text-sm !py-1.5" placeholder="e.g., Vacation">
                        </div>
                        <div>
                            <label for="goal-target" class="text-xs text-[var(--text-secondary)] mb-1 block">Target ($)</label>
                            <input type="number" id="goal-target" class="apple-input !text-sm !py-1.5" placeholder="1000" step="10">
                        </div>
                        <button type="submit" class="apple-button apple-button-secondary col-span-3 !text-sm !py-1.5 mt-1">Add Goal</button>
                    </form>
                    <ul id="savings-goals-list" class="space-y-3">
                        <li class="text-center text-xs text-[var(--text-secondary)]">No savings goals yet.</li>
                    </ul>
                </div>

                <div class="apple-card new-feature-card animate-fadeInUp animate-delay-500" id="net-worth-card">
                    <h3 class="card-title">Net Worth Tracker</h3>
                    <div class="grid grid-cols-2 gap-4 mt-3">
                        <div>
                            <h4 class="text-sm font-medium text-green-400 mb-1">Assets</h4>
                            <form id="add-asset-form" class="space-y-2 mb-2">
                                <input type="text" id="asset-name" class="apple-input !text-xs" placeholder="Asset Name (e.g., Savings Acc)">
                                <input type="number" id="asset-value" class="apple-input !text-xs" placeholder="Value ($)">
                                <button type="submit" class="apple-button apple-button-secondary w-full !text-xs !py-1">Add Asset</button>
                            </form>
                            <ul id="asset-list" class="text-xs space-y-1 max-h-28 overflow-y-auto"></ul>
                        </div>
                        <div>
                            <h4 class="text-sm font-medium text-red-400 mb-1">Liabilities</h4>
                            <form id="add-liability-form" class="space-y-2 mb-2">
                                <input type="text" id="liability-name" class="apple-input !text-xs" placeholder="Liability (e.g., Loan)">
                                <input type="number" id="liability-value" class="apple-input !text-xs" placeholder="Amount Owed ($)">
                                <button type="submit" class="apple-button apple-button-secondary w-full !text-xs !py-1">Add Liability</button>
                            </form>
                            <ul id="liability-list" class="text-xs space-y-1 max-h-28 overflow-y-auto"></ul>
                        </div>
                    </div>
                    <div id="netWorthDisplay" class="text-xl font-bold mt-4 pt-3 border-t border-[var(--border-color)] text-center">
                        Net Worth: $0.00
                    </div>
                </div>
                
                <div class="apple-card new-feature-card animate-fadeInUp animate-delay-500" id="debt-planner-card">
                    <h3 class="card-title">Debt Paydown Planner</h3>
                     <form id="add-debt-form" class="space-y-2 mb-3 mt-3">
                        <input type="text" id="debt-name" class="apple-input !text-sm" placeholder="Debt Name (e.g., Credit Card)" required>
                        <div class="grid grid-cols-3 gap-2">
                            <input type="number" id="debt-balance" class="apple-input !text-sm" placeholder="Balance ($)" step="0.01" required>
                            <input type="number" id="debt-apr" class="apple-input !text-sm" placeholder="APR (%)" step="0.01" required>
                            <input type="number" id="debt-min-payment" class="apple-input !text-sm" placeholder="Min. Pay ($)" step="0.01" required>
                        </div>
                        <button type="submit" class="apple-button apple-button-secondary w-full !text-sm !py-1.5">Add Debt to Plan</button>
                    </form>
                    <ul id="debt-list-planner" class="space-y-1 text-sm max-h-40 overflow-y-auto mb-3">
                        <li class="text-center text-xs text-[var(--text-secondary)]">No debts added to planner.</li>
                    </ul>
                    <div id="debt-plan-output" class="text-xs text-[var(--text-secondary)]">
                        Select a strategy and available extra payment to see plan.
                    </div>
                </div>


                <div class="insight-card apple-card animate-fadeInUp animate-delay-500" id="financial-insights-card">
                    <h3 class="card-title !border-none !p-0 !m-0 mb-2">Financial Insights</h3>
                    <div id="insight-content" class="insight-card-content text-sm space-y-2">
                        <p class="text-[var(--text-secondary)]">Insights will appear here once you have more data.</p>
                    </div>
                </div>
                 <div class="apple-card new-feature-card animate-fadeInUp animate-delay-500" id="budget-tips-card">
                    <h3 class="card-title">Budget Tips</h3>
                    <ul id="budget-tips-list" class="space-y-2 text-sm mt-3">
                        <li class="text-[var(--text-secondary)]">Smart tips based on your spending will appear here.</li>
                        </ul>
                </div>
            </aside>
        </div>

        <section id="financialLiteracySection" class="apple-card mt-8 literacy-section animate-fadeInUp animate-delay-700">
            <h2 class="text-2xl font-semibold mb-6 text-center">Boost Your Financial Knowledge</h2>
            <details>
                <summary>The Importance of Budgeting</summary>
                <div class="literacy-content">
                    <p>Creating a budget is the cornerstone of good financial health. It helps you understand where your money is going, identify areas where you can save, and plan for future expenses and goals. Start by tracking your income and all your expenses for a month. Then, categorize your spending and set realistic limits for each category.</p>
                    <p><strong>Tip:</strong> Use the 50/30/20 rule as a guideline: 50% of your income for needs (housing, food, transport), 30% for wants (entertainment, dining out), and 20% for savings and debt repayment.</p>
                </div>
            </details>
            <details>
                <summary>Understanding Savings vs. Investing</summary>
                <div class="literacy-content">
                    <p><strong>Saving</strong> typically involves putting money aside in a safe, easily accessible place like a savings account. It's ideal for short-term goals and emergency funds. The returns are usually low but so is the risk.</p>
                    <p><strong>Investing</strong> involves using your money to buy assets (like stocks, bonds, or real estate) with the expectation that they will generate income or appreciate in value over time. Investing generally carries more risk than saving but offers the potential for higher returns, making it suitable for long-term goals like retirement.</p>
                </div>
            </details>
            <details>
                <summary>Managing Debt Effectively</summary>
                <div class="literacy-content">
                    <p>Not all debt is bad (e.g., a mortgage can be an investment), but high-interest debt (like credit card debt) can quickly become a burden. Prioritize paying off debts with the highest interest rates first (the "avalanche" method). Alternatively, paying off the smallest debts first for psychological wins (the "snowball" method) can also be effective.</p>
                    <p><strong>Tip:</strong> Avoid taking on new debt while you're paying off existing debt. Consider balance transfers or debt consolidation if it makes financial sense.</p>
                </div>
            </details>
             <details>
                <summary>Building Good Credit</summary>
                <div class="literacy-content">
                    <p>A good credit score is crucial for accessing loans, mortgages, and even some rental agreements at favorable terms. Key factors that influence your credit score include:</p>
                    <ul>
                        <li><strong>Payment History:</strong> Always pay your bills on time.</li>
                        <li><strong>Amounts Owed (Credit Utilization):</strong> Try to keep your credit card balances low relative to your credit limits (ideally below 30%).</li>
                        <li><strong>Length of Credit History:</strong> A longer credit history is generally better.</li>
                        <li><strong>New Credit:</strong> Avoid opening too many new credit accounts in a short period.</li>
                        <li><strong>Credit Mix:</strong> Having a mix of different types of credit (e.g., credit cards, installment loans) can be beneficial.</li>
                    </ul>
                </div>
            </details>
        </section>
    </main>

    <footer class="mt-auto py-6 border-t border-[var(--border-color)]">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center text-xs text-[var(--text-secondary)]">
            &copy; <span id="footer-year"></span> Finance Hub. All data stored locally.
        </div>
    </footer>

    <button id="fabAddTransaction" title="Add Transaction" class="opacity-0">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
    </button>

    <div id="dayDetailsModal" class="modal-backdrop">
        <div id="dayDetailsModalContent" class="modal-content relative">
            <div class="flex justify-between items-center mb-4">
                <h2 id="dayDetailsModalTitle" class="text-xl font-semibold">Day Details</h2>
                <button id="closeDayDetailsModalBtn" class="text-[var(--text-secondary)] hover:text-[var(--text-primary)]">
                    <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div id="dayDetailsList" class="max-h-96 overflow-y-auto pr-2"></div>
            <button id="dayDetailsAddBtn" title="Add new item for this day" class="day-details-add-btn">
                <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" /></svg>
            </button>
        </div>
    </div>

    <div id="transactionModal" class="modal-backdrop">
        <div class="modal-content">
            <div class="flex justify-between items-center mb-6">
                <h2 id="modalTitle" class="text-xl font-semibold">Add Transaction</h2>
                <button id="closeModalBtn" class="text-[var(--text-secondary)] hover:text-[var(--text-primary)]">
                    <svg class="w-6 h-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg>
                </button>
            </div>
            <div class="mb-4 flex border-b border-[var(--border-color)]">
                <button id="tab-expense" data-form="expense-form-modal" class="modal-tab-button active flex-1 py-2 px-4 text-center font-medium border-b-2 border-[var(--accent-primary)] text-[var(--accent-primary)]">Expense</button>
                <button id="tab-bill" data-form="recurring-form-modal" class="modal-tab-button flex-1 py-2 px-4 text-center font-medium border-b-2 border-transparent text-[var(--text-secondary)] hover:text-[var(--text-primary)]">Bill</button>
            </div>
            <div id="global-error-modal" class="hidden bg-red-500/10 text-red-400 border border-red-500/30 p-3 rounded-md text-sm mb-4"></div>
            <form id="expense-form-modal" class="space-y-4">
                <input type="hidden" id="expense-id-modal">
                <div>
                    <label for="expense-desc-modal" class="text-sm text-[var(--text-secondary)] mb-1 block">Description</label>
                    <input type="text" id="expense-desc-modal" class="apple-input" placeholder="e.g., Groceries, Coffee" required>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                    <div>
                        <label for="expense-category-modal" class="text-sm text-[var(--text-secondary)] mb-1 block">Category</label>
                        <select id="expense-category-modal" class="apple-input" required></select>
                    </div>
                    <div>
                        <label for="expense-amount-modal" class="text-sm text-[var(--text-secondary)] mb-1 block">Amount ($)</label>
                        <input type="number" id="expense-amount-modal" class="apple-input" step="0.01" placeholder="0.00" required>
                    </div>
                    <div>
                        <label for="expense-date-modal" class="text-sm text-[var(--text-secondary)] mb-1 block">Date</label>
                        <input type="date" id="expense-date-modal" class="apple-input" required>
                    </div>
                </div>
                <div class="pt-2 flex justify-end gap-3">
                    <button type="button" id="cancelModalBtn" class="apple-button apple-button-secondary">Cancel</button>
                    <button type="submit" class="apple-button apple-button-primary">Save Expense</button>
                </div>
            </form>
            <form id="recurring-form-modal" class="space-y-4 hidden">
                <input type="hidden" id="recurring-id-modal">
                <div>
                    <label for="recurring-desc-modal" class="text-sm text-[var(--text-secondary)] mb-1 block">Description</label>
                    <input type="text" id="recurring-desc-modal" class="apple-input" placeholder="e.g., Rent, Netflix" required>
                </div>
                <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                    <div>
                        <label for="recurring-amount-modal" class="text-sm text-[var(--text-secondary)] mb-1 block">Amount ($)</label>
                        <input type="number" id="recurring-amount-modal" class="apple-input" step="0.01" placeholder="0.00" required>
                    </div>
                    <div>
                        <label for="recurring-day-modal" class="text-sm text-[var(--text-secondary)] mb-1 block">Day Due (1-31)</label>
                        <input type="number" id="recurring-day-modal" class="apple-input" min="1" max="31" placeholder="e.g., 15" required>
                    </div>
                </div>
                 <div class="pt-2 flex justify-end gap-3">
                    <button type="button" id="cancelModalBtnRecurring" class="apple-button apple-button-secondary">Cancel</button>
                    <button type="submit" class="apple-button apple-button-primary">Save Bill</button>
                </div>
            </form>
        </div>
    </div>

    </body>
</html>
